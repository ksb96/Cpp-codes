/*!
 * 1DS JSLL SKU, 3.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
var e=this,t=function(e){"use strict";var o="function",E="object",q="undefined",V="prototype",a="hasOwnProperty",n=Object,s=n[V],t=n.assign,r=n.create,i=n.defineProperty,c=s[a];function U(){return typeof globalThis!==q&&globalThis?globalThis:typeof self!==q&&self?self:typeof window!==q&&window?window:typeof global!==q&&global?global:null}function u(e){throw new TypeError(e)}function d(e){if(r)return r(e);if(null==e)return{};var t=typeof e;function n(){}return t!==E&&t!==o&&u("Object prototype may only be an Object:"+e),n[V]=e,new n}(U()||{}).Symbol,(U()||{}).Reflect;var F=t||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])s[a].call(t,i)&&(e[i]=t[i]);return e},l=function(e,t){return(l=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a](n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}typeof t!==o&&null!==t&&u("Class extends value "+t+" is not a constructor or null"),l(e,t),e[V]=null===t?d(t):(n[V]=t[V],new n)}function f(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var W,g="constructor",h="prototype",m="function",v="_dynInstFuncs",y="_isDynProxy",C="_dynClass",T="_dynInstChk",I=T,b="_dfOpts",x="_unknown_",S="__proto__",_="useBaseInst",A="setInstFuncs",N=Object,w=N.getPrototypeOf,k=0;function P(e,t){return e&&N[h].hasOwnProperty.call(e,t)}function D(e){return e&&(e===N[h]||e===Array[h])}function L(e){return D(e)||e===Function[h]}function R(e){if(e){if(w)return w(e);if(e=e[S]||e[h]||(e[g]?e[g][h]:null))return e}return null}function M(e,t){var n=[],r=N.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&P(e,i)&&n.push(i);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function O(e,t,n){return t!==g&&typeof e[t]===m&&(n||P(e,t))}function H(e){throw new TypeError("DynamicProto: "+e)}function B(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function z(e,t){return P(e,h)?e.name||t||x:((e||{})[g]||{}).name||t||x}function j(e,r,t,n){P(e,h)||H("theClass is an invalid class definition.");var i=e[h];!function(e){if(w)for(var t=[],n=R(r);n&&!L(n)&&!B(t,n);){if(n===e)return 1;t.push(n),n=R(n)}}(i)&&H("["+z(e)+"] is not in class hierarchy of ["+z(r)+"]");var a=null;P(i,C)?a=i[C]:(a="_dynCls$"+z(e,"_")+"$"+k,k++,i[C]=a);var o=j[b],s=!!o[_];s&&n&&n[_]!==undefined&&(s=!!n[_]);var c,u,l,p,d,f,e=(u={},M(c=r,function(e){!u[e]&&O(c,e,!1)&&(u[e]=c[e])}),u);t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[y]&&a&&!1!==(r=e[v]||{})[I]&&(i=(r[t[C]]||{})[n]||i),function(){return i.apply(e,arguments)}}var i={};M(n,function(e){i[e]=r(t,n,e)});for(var o=R(e),s=[];o&&!L(o)&&!B(s,o);)M(o,function(e){!i[e]&&O(o,e,!w)&&(i[e]=r(t,o,e))}),s.push(o),o=R(o);return i}(i,r,e,s)),o=!!w&&!!o[A],l=i,a=a,p=r,d=e,n=!1!==(o=o&&n?!!n[A]:o),D(l)||(o=p[v]=p[v]||{},f=o[a]=o[a]||{},!1!==o[I]&&(o[I]=!!n),M(p,function(e){var n,r,i;O(p,e,!1)&&p[e]!==d[e]&&(f[e]=p[e],delete p[e],P(l,e)&&(!l[e]||l[e][y])||(l[e]=(n=l,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&P(n,C)){var a=e[v]||{};if((i=(a[n[C]]||{})[t])||H("Missing ["+t+"] "+m),!i[T]&&!1!==a[I]){for(var o=!P(e,t),s=R(e),c=[];o&&s&&!L(s)&&!B(c,s);){var u=s[t];if(u){o=u===r;break}c.push(s),s=R(s)}try{o&&(e[t]=i),i[T]=1}catch(l){a[I]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?R(n)[e]:t)!==m&&H("["+e+"] is not a "+m),t)).apply(this,arguments)})[y]=1,i)))}))}j[b]={setInstFuncs:!0,useBaseInst:!0},(Ur=W=W||{})[Ur.CRITICAL=1]="CRITICAL",Ur[Ur.WARNING=2]="WARNING";var K={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},G="on",X="attachEvent",Q="addEventListener",J=i,Y=n.freeze;function Z(e){return s.toString.call(e)}function $(e){return e===undefined||typeof e===q}function ee(e){return null===e||$(e)}function te(e){return!ee(e)}function ne(e,t){return e&&c.call(e,t)}function re(e){return typeof e===E}function ie(e){return typeof e===o}function ae(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!ee(e))try{ee(e[Q])?ee(e[X])||(e[X](G+t,n),i=!0):(e[Q](t,n,r),i=!0)}catch(a){}return i}function oe(e,t){if(e)for(var n in e)c.call(e,n)&&t.call(e,n,e[n])}function se(e,t){var n=!1;if(e&&t){var r=t.length;if(e===t)return!0;if(e.length>=r){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}}return n}function ce(e,t){return!(!e||!t||!~e.indexOf(t))}function ue(e){return"[object Array]"===Z(e)}function le(e){return"[object Error]"===Z(e)}function pe(e){return"string"==typeof e}function de(e){return"number"==typeof e}function fe(e){return"boolean"==typeof e}function ge(e){if("[object Date]"===Z(e)){var t=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function he(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}catch(a){}}function me(e,t,n){var r=e.length,n=n||0;try{for(var i=Math.max(0<=n?n:r-Math.abs(n),0);i<r;i++)if(i in e&&e[i]===t)return i}catch(a){}return-1}function ve(e,t,n){var r=e.length,i=n||e,a=Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(s){}return a}function ye(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var Ce=!{toString:null}.propertyIsEnumerable("toString"),Te=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ie(e){var t=typeof e;t===o||t===E&&null!==e||u("objKeys called on non-object");var n,r=[];for(n in e)e&&c.call(e,n)&&r.push(n);if(Ce)for(var i=Te.length,a=0;a<i;a++)e&&c.call(e,Te[a])&&r.push(Te[a]);return r}function be(e,t,n,r){if(J)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),J(e,t,i),!0}catch(a){}return!1}function Ee(e){return Y?Y(e):e}function xe(){var e=Date;return e.now?e.now():(new e).getTime()}function Se(e){return le(e)?e.name:""}function _e(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)),a}function Ae(e){return!e}function Ne(e){return!!e}function we(e){throw Error(e)}function ke(e){return e&&n(t?t({},e):e)}var Pe="window",De="document",Le="navigator",Re="location",Me="console",Oe="performance",Ve="JSON",Ue="crypto",Fe="msCrypto",He="ReactNative",Be="msie",qe="trident/",We=null,ze=null,je=!1,Ke=null,Ge=null;function Xe(e,t){var n,r=!1;if(e){try{(r=t in e)||(n=e[V])&&(r=t in n)}catch(i){}if(!r)try{r=!$((new e)[t])}catch(i){}}return r}function Qe(e){var t=U();return t&&t[e]?t[e]:e===Pe&&Je()?window:null}function Je(){return typeof window===E&&window}function Ye(){return Je()?window:Qe(Pe)}function Ze(){return typeof document===E&&document?document:Qe(De)}function $e(){return!(typeof navigator!==E||!navigator)}function et(){return $e()?navigator:Qe(Le)}function tt(e){return e&&je&&(e=Qe("__mockLocation"))?e:typeof location===E&&location?location:Qe(Re)}function nt(){return Qe(Oe)}function rt(){return typeof JSON===E&&JSON||null!==Qe(Ve)}function it(){return rt()?JSON||Qe(Ve):null}function at(){var e=et();return e&&e.product&&e.product===He}function ot(){var e=et();return!e||e.userAgent===ze&&null!==We||(e=((ze=e.userAgent)||"").toLowerCase(),We=ce(e,Be)||ce(e,qe)),We}function st(e){var t=Object[V].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":rt()&&(n=it().stringify(e)),t+n}function ct(){return Ge=null===Ge?$e()&&!!et().sendBeacon:Ge}function ut(){return Ke=null===Ke&&(Ke=typeof XDomainRequest!==undefined)&&lt()?Ke&&!Xe(Qe("XMLHttpRequest"),"withCredentials"):Ke}function lt(){var e=!1;try{e=!!Qe("XMLHttpRequest")}catch(t){}return e}function pt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function dt(e,t){var n,r=typeof console!==q?console:Qe(Me);r&&(n="log",ie(r[n=r[e]?e:n])&&r[n](t))}var ft=(gt.dataType="MessageData",gt);function gt(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",rt()&&(e=it().stringify(r)),e=(t?" message:"+pt(t):"")+(r?" props:"+pt(e):""),this.message+=e}function ht(e,t){return(e||{}).logger||new mt(t)}var mt=function ru(n){this.identifier="DiagnosticLogger",this.queue=[];var i=0,o={};j(ru,this,function(a){function e(e,t){return ee(e=n[e])?t:e}ee(n)&&(n={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){if(t=new ft(t,n,i=void 0!==i&&i,r),a.enableDebugExceptions())throw t;n=e===W.CRITICAL?"errorToConsole":"warnToConsole",$(t.message)||(r=a.consoleLoggingLevel(),i?(i=+t.messageId,!o[i]&&e<=r&&(a[n](t.message),o[i]=!0)):e<=r&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){dt("warn",e)},a.errorToConsole=function(e){dt("error",e)},a.resetInternalMessageCount=function(){i=0,o={}},a.logInternalMessage=function(e,t){var n,r;i>=a.maxInternalMessageLimit()||(n=!0,r="AITR_"+t.messageId,o[r]?n=!1:o[r]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),i++),i===a.maxInternalMessageLimit()&&(t=new ft(K.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),a.warnToConsole(e))))}})},vt=(yt.ParentContextKey="parent",yt.ChildrenContextKey="childEvts",yt);function yt(e,i,t){var n,a=this,o=!1;a.start=xe(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},ie(i)&&(o=be(a,"payload",function(){return!n&&ie(i)&&(n=i(),i=null),n})),a.getCtx=function(e){return e?(e===yt.ParentContextKey||e===yt.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===yt.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===yt.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(yt.ChildrenContextKey);if(ue(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=xe()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&ie(i)&&(a.payload=i())}}var Ct=function iu(t){this.ctx={},j(iu,this,function(n){n.create=function(e,t,n){return new vt(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&ie(t.perfEvent)&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n.ctx=n.ctx||{})[e]=t)},n.getCtx=function(e){return(n.ctx||{})[e]}})},Tt="CoreUtils.doPerf";function It(e,t,n,r,i){if(e){var a=e;if(a=ie(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(Tt);try{if(s=a.create(t(),r,i))return e&&s.setCtx&&(s.setCtx(vt.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(vt.ChildrenContextKey))||(o=[],e.setCtx(vt.ChildrenContextKey,o)),o.push(s))),a.setCtx(Tt,s),n(s)}catch(c){s&&s.setCtx&&s.setCtx("exception",c)}finally{s&&a.fire(s),a.setCtx(Tt,e)}}}return n()}var bt=function(i,t){var a=this,o=null,s=ie(i.processTelemetry),c=ie(i.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return i},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,r){r=r||t;var e=i?i.identifier:"TelemetryPluginChain";It(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){a._hasRun=!0;try{r.setNext(o),c&&i.setNextPlugin(o),o&&(o._hasRun=!1),i.processTelemetry(n,r)}catch(t){var e=o&&o._hasRun;o&&e||r.diagLog().throwInternal(W.CRITICAL,K.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+st(t)),o&&!e&&o.processTelemetry(n,r)}}else o&&(a._hasRun=!0,o.processTelemetry(n,r))},function(){return{item:n}},!n.sync)}};function Et(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a=e[i];a&&ie(a.processTelemetry)&&(a=new bt(a,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var xt=function au(e,i,n,t){var r,a,o,s,c=this,u=null;null!==t&&(e&&ie(e.getPlugin)?u=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Et(r,t)}(e,c,t||e.getPlugin()):t?(r=c,o=e,s=!1,(a=t)&&e&&(o=[],he(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),u=Et(o,r)):$(t)&&(u=Et(e,c))),c.core=function(){return n},c.diagLog=function(){return ht(n,i)},c.getCfg=function(){return i},c.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!i||(r=i.extensionConfig)&&e&&(n=r[e]),n||t},c.getConfig=function(e,t,n){var r;return void 0===n&&(n=!1),(e=c.getExtCfg(e,null))&&!ee(e[t])?r=e[t]:i&&!ee(i[t])&&(r=i[t]),ee(r)?n:r},c.hasNext=function(){return null!=u},c.getNext=function(){return u},c.setNext=function(e){u=e},c.processNext=function(e){var t=u;t&&(u=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new au((e=void 0===e?null:e)||u,i,n,t)}},St="extensionConfig",_t="getPlugin",At=(Nt.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},Nt);function Nt(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&ie(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new xt(null,{},a.core),t=c&&c[_t]?e.createNew(null,c[_t]):e.createNew(null,c)),t},a._baseTelInit=function(e,t,n,r){e&&_e(e,St,[],null,ee),!r&&t&&(r=t.getProcessTelContext().getNext());var i=c;c&&c[_t]&&(i=c[_t]()),a.core=t,s=new xt(r,e,t,i),o=!0}}var wt="processTelemetry",kt="priority",Pt="setNextPlugin",Dt="isInitialized";function Lt(t,n){for(var e=[],r=null,i=t.getNext();i;){var a=i.getPlugin();a&&(r&&ie(r[Pt])&&ie(a[wt])&&r[Pt](a),ie(a[Dt])&&a[Dt]()||e.push(a),r=a,i=i.getNext())}he(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function Rt(e){return e.sort(function(e,t){var n=0,r=ie(t[wt]);return ie(e[wt])?n=r?e[kt]-t[kt]:1:r&&(n=-1),n})}var Mt,Ot=(p(Vt,Mt=At),Vt._staticInit=(be(Vr=Vt.prototype,"ChannelControls",Vr.getChannelControls),void be(Vr,"channelQueue",Vr.getChannelControls)),Vt);function Vt(){var c,r=Mt.call(this)||this;function u(e){e&&0<e.length&&(he(e=e.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&we("Channel has invalid priority"+e.identifier)}),c.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,j(Vt,r,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&he(c,function(e){0<e.length&&r._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,r){var e,i,a;o.isInitialized()||(s.initialize(t,n,r),e=(t||{}).channels,i=r,c=[],e&&he(e,u),i&&(a=[],he(i,function(e){500<e.priority&&a.push(e)}),u(a)),he(c,function(e){return Lt(new xt(e,t,n),r)}))}}),r}var Ut="toGMTString",Ft="toUTCString",Ht="cookie",Bt="expires",qt="enabled",Wt="isCookieUseDisabled",zt="disableCookiesUsage",jt="_ckMgr",Kt="",Gt=null,Xt=null,Qt=null,Jt=Ze(),Yt={},Zt={};function $t(e){return!e||e.isEnabled()}function en(e,t){var n,r;return e?n=e.getCookieMgr():t&&(n=t.cookieCfg[jt]||tn(t)),n||(r=t,t=(e||{}).logger,(e=tn[jt]||Zt[jt])||(e=tn[jt]=tn(r,t),Zt[jt]=e),n=e),n}function tn(e,i){var t,n,u=(_e(n=(t=e||Zt).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,te,ee),_e(n,"path",t.cookiePath||"/",null,ee),ee(n[qt])&&(e=void 0,$(t[Wt])||(e=!t[Wt]),$(t[zt])||(e=!t[zt]),n[qt]=e),n),l=u.path||"/",p=u.domain,r=!1!==u[qt],d={isEnabled:function(){var e=r&&nn(i),t=Zt[jt];return e&&t&&d!==t?$t(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,r,i){var a,o,s,c=!1;return $t(d)&&(a={},-1!=(s=(o=ye(t||Kt)).indexOf(";"))&&(o=ye(t.substring(0,s)),a=rn(t.substring(1+s))),_e(a,"domain",r||p,Ne,$),ee(n)||(s=ot(),!$(a[Bt])||0<(t=xe()+1e3*n)&&((r=new Date).setTime(t),_e(a,Bt,an(r,s?Ut:Ft)||an(r,s?Ut:Ft)||Kt,Ne)),s||_e(a,"max-age",Kt+n,null,$)),(n=tt())&&"https:"===n.protocol&&(_e(a,"secure",null,null,$),(Xt=null===Xt?!(pe(n=(et()||{}).userAgent)&&(ce(n,"CPU iPhone OS 12")||ce(n,"iPad; CPU OS 12")||ce(n,"Macintosh; Intel Mac OS X 10_14")&&ce(n,"Version/")&&ce(n,"Safari")||ce(n,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=e.length;if(e===t)return 1;if(40<=n){for(var r=n-1,i=39;0<=i;i--){if(e[r]!=t[i])return;r--}return 1}}}(n,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ce(n,"Chrome/5")||ce(n,"Chrome/6")||ce(n,"UnrealEngine")&&!ce(n,"Chrome")||ce(n,"UCBrowser/12")||ce(n,"UCBrowser/11"))):Xt)&&_e(a,"SameSite","None",null,$)),_e(a,"path",i||l,null,$),(u.setCookie||sn)(e,on(o,a)),c=!0),c},get:function(e){var t=Kt;return $t(d)?(u.getCookie||function(e){var t,n=Kt;return Jt&&(t=Jt[Ht]||Kt,Qt!==t&&(Yt=rn(t),Qt=t),n=ye(Yt[e]||Kt)),n})(e):t},del:function(e,t){return!!$t(d)&&d.purge(e,t)},purge:function(e,t){var n,r=!1;return nn(i)&&((n={}).path=t||"/",n[Bt]="Thu, 01 Jan 1970 00:00:01 GMT",ot()||(n["max-age"]="0"),(u.delCookie||sn)(e,on(Kt,n)),r=!0),r}};return d[jt]=d}function nn(e){if(null===Gt){Gt=!1;try{Gt=(Jt||{})[Ht]!==undefined}catch(t){e&&e.throwInternal(W.WARNING,K.CannotAccessCookie,"Cannot access document.cookie - "+Se(t),{exception:st(t)})}}return Gt}function rn(e){var n={};return e&&e.length&&he(ye(e).split(";"),function(e){var t;(e=ye(e||Kt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[ye(e.substring(0,t))]=ye(e.substring(1+t)))}),n}function an(e,t){return ie(e[t])?e[t]():null}function on(e,t){var n=e||Kt;return oe(t,function(e,t){n+="; "+e+(ee(t)?Kt:"="+t)}),n}function sn(e,t){Jt&&(Jt[Ht]=e+"="+t)}var cn="_notificationManager";function un(e,t){return new Ct(t)}var ln,pn=function ou(e){this.listeners=[];var t=!!(e||{}).perfEvtsSendAll;j(ou,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var t=me(i.listeners,e);-1<t;)i.listeners.splice(t,1),t=me(i.listeners,e)},i.eventsSent=function(t){he(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},i.eventsDiscarded=function(t,n){he(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},i.eventsSendRequest=function(n,r){he(i.listeners,function(e){if(e&&e.eventsSendRequest)if(r)setTimeout(function(){return e.eventsSendRequest(n,r)},0);else try{e.eventsSendRequest(n,r)}catch(t){}})},i.perfEvent=function(n){n&&(!t&&n.isChildEvt()||he(i.listeners,function(e){if(e&&e.perfEvent)if(n.isAsync)setTimeout(function(){return e.perfEvent(n)},0);else try{e.perfEvent(n)}catch(t){}}))}})},dn=(p(fn,ln=function su(){var t,u,l,n,r,p=!1;j(su,this,function(c){c._extensions=[],u=new Ot,c.logger=new mt({loggingLevelConsole:W.CRITICAL}),t=[],c.isInitialized=function(){return p},c.initialize=function(e,t,r,n){var i,a;c.isInitialized()&&we("Core should not be initialized more than once"),e&&!ee(e.instrumentationKey)||we("Please provide instrumentation key"),l=n,c[cn]=n,c.config=e||{},c.config.enablePerfMgr&&_e(c.config,"createPerfMgr",un),e.extensions=ee(e.extensions)?[]:e.extensions,e?!(a=e[St])&&ee(a)&&(a=$(i)?{}:i,e[St]=a):a=$(i)?{}:i,a.NotificationManager=n,r&&(c.logger=r),(n=[]).push.apply(n,f(f([],t),e.extensions));var n=Rt(n),o=[],s={};he(n,function(e){(ee(e)||ee(e.initialize))&&we("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(ee(s[t])?s[t]=n:r.warnToConsole("Two extensions have same priority #"+t+" - "+s[t]+", "+n)),(!t||t<u.priority)&&o.push(e)}),n.push(u),o.push(u),n=Rt(n),c._extensions=n,Lt(new xt([u],e,c),n),Lt(new xt(o,e,c),n),c._extensions=o,0===c.getTransmissionControls().length&&we("No channels available"),p=!0,c.releaseQueue()},c.getTransmissionControls=function(){return u.getChannelControls()},c.track=function(e){_e(e,"iKey",c.config.instrumentationKey,null,Ae),_e(e,"time",ge(new Date),null,Ae),_e(e,"ver","4.0",null,ee),c.isInitialized()?c.getProcessTelContext().processNext(e):t.push(e)},c.getProcessTelContext=function(){var e=c._extensions,t=e;return e&&0!==e.length||(t=[u]),new xt(t,c.config,c)},c.getNotifyMgr=function(){return l||(l=d({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),c[cn]=l),l},c.getCookieMgr=function(){return r=r||tn(c.config,c.logger)},c.setCookieMgr=function(e){r=e},c.getPerfMgr=function(){return n||c.config&&c.config.enablePerfMgr&&ie(c.config.createPerfMgr)&&(n=c.config.createPerfMgr(c,c.getNotifyMgr())),n||null},c.setPerfMgr=function(e){n=e},c.eventCnt=function(){return t.length},c.releaseQueue=function(){0<t.length&&(he(t,function(e){c.getProcessTelContext().processNext(e)}),t=[])}})}),fn);function fn(){var e=ln.call(this)||this,r=0;return j(fn,e,function(n,i){function t(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],2)}n.initialize=function(e,t,n,r){i.initialize(e,t,n||new mt(e),r||new pn(e))},n.track=function(e){It(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===e&&(t(e),we("Invalid telemetry item")),function(){if(ee(e.name))throw t(e),Error("telemetry name required")}(),i.track(e)},function(){return{item:e}},!e.sync)},n.addNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.addNotificationListener(e)},n.removeNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.removeNotificationListener(e)},n.pollInternalLogs=function(t){var e=n.config.diagnosticLogInterval;return e&&0<e||(e=1e4),r&&n.stopPollingInternalLogs(),r=setInterval(function(){var e=n.logger?n.logger.queue:[];he(e,function(e){e={name:t||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:ge(new Date),baseType:ft.dataType,baseData:{message:e.message}},n.track(e)}),e.length=0},e)},n.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}}),e}var gn=4294967296,hn=4294967295,mn=!1,vn=123456789,yn=987654321;function Cn(e){var t,n=(n=Qe(Ue)||Qe(Fe))&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&hn:ot()?(mn||function(){try{var e=2147483647&xe();(t=(Math.random()*gn^e)+e)<0&&(t>>>=0),vn=123456789+t&hn,yn=987654321-t&hn,mn=!0}catch(n){}var t}(),t=((yn=36969*(65535&yn)+(yn>>16)&hn)<<16)+(65535&(vn=18e3*(65535&vn)+(vn>>16)&hn))>>>0&hn|0,(t>>>=0)&hn):Math.floor(gn*Math.random()|0);return e||(n>>>=0),n}var Tn="visibilitychange",In="pagehide",bn="pageshow";function En(e,t){var n=!1,r=Ye();return r&&(n=ae(r,e,t),n=ae(r.body,e,t)||n),(r=Ze())&&ae(r,e,t)||n}function xn(e,t){return function a(e,t,n){var r,i=!1;return t&&e&&ue(e)&&(r=[],he(e,function(e){pe(e)&&(n&&-1!==me(n,e)?r.push(e):i=En(e,t)||i)}),!i&&0<r.length&&(i=a(r,t))),i}(["beforeunload","unload","pagehide"],e,t)}function Sn(n,e){var t=!1;return e&&-1!==me(e,In)||(t=En(In,n)),!(t=(!e||-1===me(e,Tn))&&En(Tn,function(e){var t=Ze();n&&t&&"hidden"===t.visibilityState&&n(e)})||t)&&e?Sn(n):t}function _n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(wn,function(e){var t=0|Math.floor(Cn()/hn*16)>>>0;return("x"===e?t:3&t|8).toString(16)})}function An(e){void 0===e&&(e=22);for(var t=Cn()>>>0,n=0,r="";r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(Cn()<<2&4294967295|3&t)>>>0,n=0);return r}function Nn(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Cn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Cn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var wn=/[xy]/g,kn="_aiHooks",Pn=["req","rsp","hkErr","fnErr"];function Dn(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Ln(e,o,s,c,u){0<=u&&u<=2&&Dn(e,function(e,t){var n=e.cbks;if(e=n[Pn[u]]){o.ctx=function(){return c[t]=c[t]||{}};try{e.apply(o.inst,s)}catch(i){e=o.err;try{var r=n.hkErr;r&&(o.err=i,r.apply(o.inst,s))}catch(a){}finally{o.err=e}}}})}function Rn(c){return function(){var n=arguments,e=c.h,r={name:c.n,inst:this,ctx:null,set:function(e,t){(n=a([],n))[e]=t,i=a([r],n)}},t=[],i=a([r],n);function a(t,e){return Dn(e,function(e){t.push(e)}),t}Ln(e,r,i,t,0);var o=c.f;try{r.rslt=o.apply(this,n)}catch(s){throw r.err=s,Ln(e,r,i,t,3),s}return Ln(e,r,i,t,1),r.rslt}}var Mn=Object.getPrototypeOf;function On(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n&&(e=function a(e,t,n){var r=null;return e&&(ne(e,t)?r=e:n&&(r=a(function(e){if(e){if(Mn)return Mn(e);if(e=e.__proto__||e[V]||e.constructor)return e}return null}(e),t,!1))),r}(e,t,r))&&typeof(r=e[t])===o){var i=r[kn];return i||((r=Rn(i={i:0,n:t,f:r,h:[]}))[kn]=i,e[t]=r),n={id:i.i,cbks:n,rm:function(){var n=this.id;Dn(i.h,function(e,t){return e.id===n&&(i.h.splice(t,1),1)})}},i.i++,i.h.push(n),n}return null}var Vn=F(F({},K),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),Un="1DS-Web-JS-3.1.9",Fn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Hn="withCredentials",Bn=((Ur={})[0]=0,Ur[2]=6,Ur[1]=1,Ur[3]=7,Ur[4098]=6,Ur[4097]=1,Ur[4099]=7,Ur),qn=!!Ze(),Wn=!!Ye();function zn(e){return!(""===e||ee(e))}function jn(e,t,n){var r=-1;return $(e)||(0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),0<=n&&n<=9?(-1===r&&(r=0),r|=n):(e=Bn[function i(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===E&&(n=4,ue(e)?(n=4096,0<e.length&&(n|=i(e[0]))):ne(e,"value")&&(n=8192|i(e.value)))),n}(e)]||-1,-1!==r&&-1!==e?r|=e:6===e&&(r=e))),r}function Kn(e){return nn(null)?Gn(en(null),e):""}function Gn(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function Xn(e){void 0===e&&(e="D");var t=_n();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function Qn(){var r={},t=!1,e=0,n=arguments.length,i=Object[V],a=arguments;for("[object Boolean]"===i.toString.call(a[0])&&(t=a[0],e++);e<n;e++)oe(a[e],function(n,e){t&&e&&re(e)?ue(e)?(r[n]=r[n]||[],he(e,function(e,t){e&&re(e)?r[n][t]=Qn(!0,r[n][t],e):r[n][t]=e})):r[n]=Qn(!0,r[n],e):r[n]=e});return r}var Jn=function(){var e=nt();return e&&e.now?e.now():xe()};function Yn(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=Jn()}function Zn(e,t,n,r,i){function a(e,t,n){try{e[t]=n}catch(r){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var o=new XMLHttpRequest;return r&&a(o,Fn,r),n&&a(o,Hn,n),o.open(e,t,!i),n&&a(o,Hn,n),o}var $n,er="version",tr="properties";function nr(){var e=$n.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",j(nr,e,function(s,c){s.logger&&s.logger.queue||(s.logger=new mt({loggingLevelConsole:W.CRITICAL})),s.initialize=function(r,i,a,o){It(s,function(){return"AppInsightsCore.initialize"},function(){if(r){if(r.endpointUrl||(r.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),(e=r.propertyStorageOverride)&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");r.channels&&he(r.channels,function(e){e&&he(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))})})}s.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&he(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))}),s.pluginVersionString=s.pluginVersionStringArr.join(";");try{c.initialize(r,i,a,o),s.pollInternalLogs("InternalLog")}catch(n){var e,t=s.logger;~(e=st(n)).indexOf("channels")&&(e+="\n - Channels must be provided through config.channels only!"),t.throwInternal(W.CRITICAL,Vn.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+e)}},function(){return{config:r,extensions:i,logger:a,notificationManager:o}})},s.track=function(n){It(s,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=Jn(),(e=t.latency)&&de(e)&&1<=e&&e<=4||(t.latency=1),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Un,(e=t.baseData=t.baseData||{})[tr]||(e[tr]={}),(e=e[tr])[er]||(e[er]=""),""!==s.pluginVersionString&&(e[er]=s.pluginVersionString)),c.track(t)},function(){return{item:n}},!n.sync)}}),e}function rr(e,t,n){var r,i,a=t.length,o=(t&&150<(t=ye(t.toString())).length&&(r=t.substring(0,150),e&&e.throwInternal(W.WARNING,K.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(i="00"+s).substr(i.length-3);o=c}return o}function ir(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ye(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(W.WARNING,K.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function ar(e,t){return ur(e,t,2048,K.UrlTooLong)}function or(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e&&e.throwInternal(W.WARNING,K.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function sr(r,e){var i;return e&&(i={},oe(e,function(e,t){if(re(t)&&rt())try{t=it().stringify(t)}catch(n){r&&r.throwInternal(W.WARNING,K.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=ir(r,t,8192),e=rr(r,e,i),i[e]=t}),e=i),e}function cr(n,e){var r;return e&&(r={},oe(e,function(e,t){e=rr(n,e,r),r[e]=t}),e=r),e}function ur(e,t,n,r){var i;return t&&(t=ye(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(W.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function lr(e){var t,n=null;return ie(Event)?n=new Event(e):(t=Ze())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function pr(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function dr(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<i?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t+"."+e}p(nr,$n=dn);var fr,gr,i=nr,hr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",mr="not_specified",vr="iKey";(Vr=fr=fr||{})[Vr.LocalStorage=0]="LocalStorage",Vr[Vr.SessionStorage=1]="SessionStorage",(Ur=gr=gr||{})[Ur.AI=0]="AI",Ur[Ur.AI_AND_W3C=1]="AI_AND_W3C",Ur[Ur.W3C=2]="W3C";var yr=undefined;function Cr(e){try{if(ee(U()))return null;var t=new Date,n=Qe(e===fr.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function Tr(){return Ir()?Cr(fr.SessionStorage):null}function Ir(){return yr=yr===undefined?!!Cr(fr.SessionStorage):yr}function br(e,t){var n=Tr();if(null!==n)try{return n.getItem(t)}catch(r){yr=!1,e.throwInternal(W.WARNING,K.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Se(r),{exception:st(r)})}return null}function Er(e,t,n){var r=Tr();if(null!==r)try{return r.setItem(t,n),1}catch(i){yr=!1,e.throwInternal(W.WARNING,K.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Se(i),{exception:st(i)})}}function xr(e,t){var n=Tr();if(null!==n)try{return n.removeItem(t),1}catch(r){yr=!1,e.throwInternal(W.WARNING,K.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Se(r),{exception:st(r)})}}var Sr=Ze()||{},_r=0,Ar=[null,null,null,null,null];function Nr(e){var t,n,r=_r,i=Ar,a=i[r];return Sr.createElement?i[r]||(a=i[r]=Sr.createElement("a")):a={host:(t=wr(t=e,!0)||"")&&null!=(n=t.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<n.length&&pe(n[2])&&0<n[2].length?n[2]+(n[3]||""):t},a.href=e,++r>=i.length&&(r=0),_r=r,a}function wr(e,t){var n=null;return!e||null!=(e=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<e.length&&pe(e[2])&&0<e[2].length&&(n=e[2]||"",t&&2<e.length&&(t=(e[1]||"").toLowerCase(),e=e[3]||"",n+=e="http"==t&&":80"===e||"https"==t&&":443"===e?"":e)),n}var kr=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Pr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i,a=Nr(t).host.toLowerCase();if(a&&(~a.indexOf(":443")||~a.indexOf(":80"))&&(a=(wr(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&a&&a!==n)return!1;if((n=e&&e.correlationHeaderDomains)&&(he(n,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")),i=i||e.test(a)}),!i))return!1;var o=e&&e.correlationHeaderExcludedDomains;if(!o||0===o.length)return!0;for(r=0;r<o.length;r++)if(RegExp(o[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(a))return!1;return a&&0<a.length},getCorrelationContext:function(e){if((e=e&&Pr.getCorrelationContextValue(e,"appId"))&&e!==Pr.correlationIdPrefix)return e},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function Dr(){var e=nt();return e&&e.now&&e.timing&&0<(e=e.now()+e.timing.navigationStart)?e:xe()}function Lr(e,t){return 0===e||0===t||ee(e)||ee(t)?null:t-e}var Rr,Mr=(p(Or,Rr=dn=function(){this.ver=2,this.properties={},this.measurements={}}),Or.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Or.dataType="EventData",Or);function Or(e,t,n,r){var i=Rr.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=ir(e,t)||mr,i.properties=sr(e,n),i.measurements=cr(e,r),i}var Vr=function(){},Ur=function(){this.hasFullStack=!0,this.parsedStack=[]},Fr="error",Hr="stack",Br="stackDetails",qr="errorSrc",Wr="message",zr="description";function jr(e,t){var n=e;return n&&!pe(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=ie(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Kr(e,t){var n=e;return e&&((n=n&&!pe(n)&&(e[Wr]||e[zr])||n)&&!pe(n)&&(n=jr(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function Gr(e){return e&&e.src&&pe(e.src)&&e.obj&&ue(e.obj)}function Xr(e){var t=e||"",e=(t=pe(t)?t:pe(t[Hr])?t[Hr]:""+t).split("\n");return{src:t,obj:e}}function Qr(e){var t,n=null;if(e)try{e[Hr]?n=Xr(e[Hr]):e[Fr]&&e[Fr][Hr]?n=Xr(e[Fr][Hr]):e.exception&&e.exception[Hr]?n=Xr(e.exception[Hr]):Gr(e)?n=e:Gr(e[Br])?n=e[Br]:window.opera&&e[Wr]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):pe(e)?n=Xr(e):(t=e[Wr]||e[zr]||"",pe(e[qr])&&(t&&(t+="\n"),t+=" from "+e[qr]),t&&(n=Xr(t)))}catch(r){n=Xr(r)}return n||{src:"",obj:null}}function Jr(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function Yr(e){if(e)try{if(!pe(e)){var t=Jr(e),n=jr(e,!1);return n&&"{}"!==n||(e[Fr]&&(t=Jr(e=e[Fr])),n=jr(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(r){}return""+(e||"")}var Zr,$r=(p(ei,Zr=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),ei.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=Jr(i||a||e);return{message:Kr(e,c),url:t,lineNumber:n,columnNumber:r,error:Yr(i||a||e),evt:Yr(a||e),typeName:c,stackDetails:Qr(o||i||a),errorSrc:s}},ei.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&ve(e.exceptions,function(e){return ni.CreateFromInterface(t,e)});return new ei(t,F(F({},e),{exceptions:i}),n,r)},ei.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,r=this.severityLevel;this.ver;var i=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&ve(e,function(e){return e.toInterface()})||undefined,severityLevel:r,properties:t,measurements:n,problemGroup:i,id:a,isManual:o}},ei.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},ei.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",ei.dataType="ExceptionData",ei.formatError=Yr,ei);function ei(e,t,n,r,i,a){var o=Zr.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(re(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,ee(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new ni(e,t,n=n||{})],o.properties=sr(e,n),o.measurements=cr(e,r),i&&(o.severityLevel=i),a&&(o.id=a)),o}var ti,ni=(p(ri,ti=Ur),ri.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&ve(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Hr],parsedStack:e||undefined}},ri.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&ve(t.parsedStack,function(e){return ai.CreateFromInterface(e)})||t.parsedStack;return new ri(e,F(F({},t),{parsedStack:n}))},ri);function ri(e,t,n){var r,u,i,a,o=ti.call(this)||this;return o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(re(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(o.typeName=t.typeName,o.message=t.message,o[Hr]=t[Hr],o.parsedStack=t.parsedStack,o.hasFullStack=t.hasFullStack):(u=(r=t)&&r.evt,le(r)||(r=r[Fr]||u||r),o.typeName=ir(e,Jr(r))||mr,o.message=or(e,Kr(t||r,o.typeName))||mr,u=t[Br]||Qr(t),o.parsedStack=function(e){if((e=u.obj)&&0<e.length){var t=[],n=0,r=0;if(he(e,function(e){e=e.toString(),ai.regex.test(e)&&(e=new ai(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,a=t.length-1,o=0,s=i,c=a;i<a;){if(32768<(o+=t[i].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=i,c=a,i++,a--}}return t}(),o[Hr]=(r=e,a="",(e=u)&&(e.obj?he(e.obj,function(e){a+=e+"\n"}):a=e.src||""),!(u=a)||32768<(e=""+u).length&&(i=e.substring(0,32768),r&&r.throwInternal(W.WARNING,K.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:u},!0)),i||u),o.hasFullStack=ue(o.parsedStack)&&0<o.parsedStack.length,n&&(n.typeName=n.typeName||o.typeName)),o}var ii,ai=(p(oi,ii=Vr),oi.CreateFromInterface=function(e){return new oi(e,null)},oi.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},oi.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,oi.baseSize=58,oi);function oi(e,t){var n,r=ii.call(this)||this;return r.sizeInBytes=0,r.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=ye(n),r.fileName="",r.line=0,(n=n.match(oi.regex))&&5<=n.length&&(r.method=ye(n[2])||r.method,r.fileName=ye(n[4]),r.line=parseInt(n[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=oi.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}var si,Ur=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};(Vr=si={})[Vr.Measurement=0]="Measurement",Vr[Vr.Aggregation=1]="Aggregation";var ci,ui=(p(li,ci=function(){this.kind=si.Measurement}),li);function li(){var e=null!==ci&&ci.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}var pi,di=(p(fi,pi=Ur),fi.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",fi.dataType="MetricData",fi);function fi(e,t,n,r,i,a,o,s,c){var u=pi.call(this)||this;u.aiDataContract={ver:1,metrics:1,properties:0};var l=new ui;return l.count=0<r?r:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(i)||null===i?undefined:i,l.name=ir(e,t)||mr,l.value=n,l.stdDev=isNaN(o)||null===o?undefined:o,u.metrics=[l],u.properties=sr(e,s),u.measurements=cr(e,c),u}var gi,Ur=(p(hi,gi=dn),hi);function hi(){var e=gi.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var mi,vi=(p(yi,mi=Ur),yi.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",yi.dataType="PageviewData",yi);function yi(e,t,n,r,i,a,o){var s=mi.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&ur(e,o,128,K.IdTooLong).toString(),s.url=ar(e,n),s.name=ir(e,t)||mr,isNaN(r)||(s.duration=dr(r)),s.properties=sr(e,i),s.measurements=cr(e,a),s}var Ci,Ti=(p(Ii,Ci=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),Ii.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Ii.dataType="RemoteDependencyData",Ii);function Ii(e,t,n,r,i,a,o,s,c,u,l,p){void 0===c&&(c="Ajax");var d=Ci.call(this)||this;d.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},d.id=t,d.duration=dr(i),d.success=a,d.resultCode=o+"",d.type=ir(e,c);var f,g,o=(f=e,t=s,o=a=i=r,a=(c=n)&&0<c.length?(g=(s=Nr(c)).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,ir(f,t?t+" "+n:n)):ir(f,c))):g=i,{target:g,name:a,data:o});return d.data=ar(e,r)||o.data,d.target=ir(e,o.target),u&&(d.target=d.target+" | "+u),d.name=ir(e,o.name),d.properties=sr(e,l),d.measurements=cr(e,p),d}var bi,Ei=(p(xi,bi=function(){this.ver=2,this.properties={},this.measurements={}}),xi.envelopeType="Microsoft.ApplicationInsights.{0}.Message",xi.dataType="MessageData",xi);function xi(e,t,n,r,i){var a=bi.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=or(e,t=t||mr),a.properties=sr(e,r),a.measurements=cr(e,i),n&&(a.severityLevel=n),a}var Si,dn=(p(_i,Si=Ur),_i);function _i(){var e=Si.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Ai,Ni,wi=(p(ki,Ai=dn),ki.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",ki.dataType="PageviewPerformanceData",ki);function ki(e,t,n,r,i,a,o){var s=Ai.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=ar(e,n),s.name=ir(e,t)||mr,s.properties=sr(e,i),s.measurements=cr(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(Ur=Ni=Ni||{})[Ur.Verbose=0]="Verbose",Ur[Ur.Information=1]="Information",Ur[Ur.Warning=2]="Warning",Ur[Ur.Error=3]="Error",Ur[Ur.Critical=4]="Critical";var Pi=(Di.create=function(e,t,n,r,i,a){if(n=ir(r,n)||mr,ee(e)||ee(t)||ee(n))throw Error("Input doesn't contain all required fields");r="",e[vr]&&(r=e[vr],delete e[vr]);var o={name:n,time:ge(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e};return ee(i)||oe(i,function(e,t){o.data[e]=t}),o},Di);function Di(){}var Li="AppInsightsPropertiesPlugin",Ri=function cu(g,h,t,m){j(cu,this,function(e){var l,n=null,p=[],d=!1;function f(){t&&he(t.getTransmissionControls(),function(e){he(e,function(e){return e.flush(!0)})})}t&&(l=t.logger),e.trackPageView=function(r,i){var a=r.name;!ee(a)&&"string"==typeof a||(e=Ze(),a=r.name=e&&e.title||"");var e,o=r.uri;if(!ee(o)&&"string"==typeof o||(e=tt(),o=r.uri=e&&e.href||""),!m.isPerformanceTimingSupported())return g.sendPageViewInternal(r,i),f(),void l.throwInternal(W.WARNING,K.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,u=m.getPerformanceTiming().navigationStart;0<u&&(s=Lr(u,+new Date),m.shouldCollectDuration(s)||(s=undefined)),ee(i)||ee(i.duration)||(t=i.duration),!h&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),g.sendPageViewInternal(r,i),f(),c=!0),i=i||{},t=function(){var e,t=!1;try{m.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},m.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(i.duration=e.durationMs,g.sendPageViewInternal(r,i)),d||(g.sendPageViewPerformanceInternal(e,i),d=!0)):(i.duration=s,g.sendPageViewInternal(r,i))):0<u&&6e4<Lr(u,+new Date)&&(t=!0,c||(i.duration=6e4,g.sendPageViewInternal(r,i)))}catch(n){l.throwInternal(W.CRITICAL,K.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Se(n),{exception:st(n)})}return t},p.push(t),n=n||setInterval(function(){var e=p.slice(0),t=!1;p=[],he(e,function(e){e()?t=!0:p.push(e)}),0===p.length&&(clearInterval(n),n=null),t&&f()},100)}})},Mi=(Oi.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+st(r))}},Oi.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+st(r)),null}},Oi.prototype.startPageVisitTimer=function(e,t){try{var n,r;Ir()&&(null!=br(this._logger,this.prevPageVisitDataKeyName)&&we("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new Vi(e,t),r=it().stringify(n),Er(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){this._logger.warnToConsole("Call to start failed: "+st(i))}},Oi.prototype.stopPageVisitTimer=function(){try{if(Ir()){var e=xe(),t=br(this._logger,this.prevPageVisitDataKeyName);if(t&&rt()){var n=it().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,xr(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+st(r)),null}},Oi);function Oi(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Vi=function(e,t){this.pageVisitStartTime=xe(),this.pageName=e,this.pageUrl=t},Ui=(Fi.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(n=t?(r=t.duration,i=0===t.startTime?t.connectEnd:Lr(t.startTime,t.connectEnd),a=Lr(t.requestStart,t.responseStart),o=Lr(t.responseStart,t.responseEnd),Lr(t.responseEnd,t.loadEventEnd)):(r=Lr(n.navigationStart,n.loadEventEnd),i=Lr(n.navigationStart,n.connectEnd),a=Lr(n.requestStart,n.responseStart),o=Lr(n.responseStart,n.responseEnd),Lr(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(W.WARNING,K.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:n}):this.shouldCollectDuration(r,i,a,o,n)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(n)?this._logger.throwInternal(W.WARNING,K.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:n}):(e.durationMs=r,e.perfTotal=e.duration=dr(r),e.networkConnect=dr(i),e.sentRequest=dr(a),e.receivedResponse=dr(o),e.domProcessing=dr(n),e.isValid=!0):this._logger.throwInternal(W.WARNING,K.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:n}))},Fi.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?nt().timing:null},Fi.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?nt().getEntriesByType("navigation")[0]:null},Fi.prototype.isPerformanceNavigationTimingSupported=function(){var e=nt();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Fi.prototype.isPerformanceTimingSupported=function(){var e=nt();return e&&e.timing},Fi.prototype.isPerformanceTimingDataReady=function(){var e=nt();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Fi.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(et()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Fi);function Fi(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Hi="duration",Bi="event";function qi(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Wi,dn=(p(zi,Wi=At),zi.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=pr(e.disableExceptionTracking),e.autoTrackPageVisitTime=pr(e.autoTrackPageVisitTime),e.overridePageViewDuration=pr(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=pr(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=pr(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=pr(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=pr(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=pr(e.enableDebug),e.disableFlushOnBeforeUnload=pr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=pr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},zi.Version="2.7.1",zi);function zi(){var v,y,C,T,I,b=Wi.call(this)||this;return b.identifier="ApplicationInsightsAnalytics",b.priority=180,b.autoRoutePVDelay=500,j(zi,b,function(h,m){var e=tt(!0);T=e&&e.href||"",h.getCookieMgr=function(){return en(h.core)},h.processTelemetry=function(a,o){It(h.core,function(){return h.identifier+":processTelemetry"},function(){var e=!1,t=h._telemetryInitializers.length;o=h._getTelCtx(o);for(var n=0;n<t;++n){var r=h._telemetryInitializers[n];if(r)try{if(!1===r.call(null,a)){e=!0;break}}catch(i){o.diagLog().throwInternal(W.CRITICAL,K.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Se(i),{exception:st(i)},!0)}}e||h.processNext(a,o)},function(){return{item:a}},!a.sync)},h.trackEvent=function(e,t){try{var n=Pi.create(e,Mr.dataType,Mr.envelopeType,h.diagLog(),t);h.core.track(n)}catch(r){h.diagLog().throwInternal(W.WARNING,K.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Se(r),{exception:st(r)})}},h.startTrackEvent=function(e){try{v.start(e)}catch(t){h.diagLog().throwInternal(W.CRITICAL,K.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Se(t),{exception:st(t)})}},h.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(r){h.diagLog().throwInternal(W.CRITICAL,K.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Se(r),{exception:st(r)})}},h.trackTrace=function(e,t){try{var n=Pi.create(e,Ei.dataType,Ei.envelopeType,h.diagLog(),t);h.core.track(n)}catch(r){h.diagLog().throwInternal(W.WARNING,K.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Se(r),{exception:st(r)})}},h.trackMetric=function(e,t){try{var n=Pi.create(e,di.dataType,di.envelopeType,h.diagLog(),t);h.core.track(n)}catch(r){h.diagLog().throwInternal(W.CRITICAL,K.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Se(r),{exception:st(r)})}},h.trackPageView=function(e,t){try{var n=e||{};h._pageViewManager.trackPageView(n,F(F(F({},n.properties),n.measurements),t)),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){h.diagLog().throwInternal(W.CRITICAL,K.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Se(r),{exception:st(r)})}},h.sendPageViewInternal=function(e,t,n){var r=Ze();r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),n=Pi.create(e,vi.dataType,vi.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.sendPageViewPerformanceInternal=function(e,t,n){n=Pi.create(e,wi.dataType,wi.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.trackPageViewPerformance=function(e,t){try{h._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),h.sendPageViewPerformanceInternal(e,t)}catch(n){h.diagLog().throwInternal(W.CRITICAL,K.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Se(n),{exception:st(n)})}},h.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=Ze())&&t.title||""),y.start(e)}catch(n){h.diagLog().throwInternal(W.CRITICAL,K.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Se(n),{exception:st(n)})}},h.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=Ze())&&i.title||""),"string"!=typeof t&&(t=(a=tt())&&a.href||""),y.stop(e,t,n,r),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){h.diagLog().throwInternal(W.CRITICAL,K.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Se(o),{exception:st(o)})}},h.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(mr),e=new $r(h.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),n=Pi.create(e,$r.dataType,$r.envelopeType,h.diagLog(),t,n);h.core.track(n)},h.trackException=function(e,t){try{h.sendExceptionInternal(e,t)}catch(n){h.diagLog().throwInternal(W.CRITICAL,K.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Se(n),{exception:st(n)})}},h._onerror=function(e){var t,n,r,i=e&&e.error,a=e&&e.evt;try{a||(t=Ye())&&(a=t[Bi]);var o=e&&e.url||(Ze()||{}).URL,s=e.errorSrc||"window.onerror@"+o+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:s,url:o,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},u=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!pe(u)||"Script error."!==u&&"Script error"!==u?(e.errorSrc||(e.errorSrc=s),h.trackException({exception:e,severityLevel:Ni.Error},c)):(n=$r.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,e.lineNumber||0,e.columnNumber||0,i,a,null,s),r=c,r=Pi.create(n,$r.dataType,$r.envelopeType,h.diagLog(),r),h.core.track(r))}catch(l){i=i?i.name+", "+i.message:"null",h.diagLog().throwInternal(W.CRITICAL,K.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Se(l),{exception:st(l),errorString:i})}},h.addTelemetryInitializer=function(e){h._telemetryInitializers.push(e)},h.initialize=function(e,t,n,r){if(!h.isInitialized()){if(ee(t))throw Error("Error initializing");m.initialize(e,t,n,r),h.setInitialized(!1);var i=h._getTelCtx(),a=h.identifier;h.config=i.getExtCfg(a),(t=zi.getDefaultConfig(e))!==undefined&&oe(t,function(e,t){h.config[e]=i.getConfig(a,e,t),h.config[e]===undefined&&(h.config[e]=t)}),h.config.isStorageUseDisabled&&(yr=!1),r={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return h.config.accountId||e.accountId},sessionRenewalMs:function(){return h.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return h.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return h.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return h.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return h.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return h.config.appId||e.appId}},h._pageViewPerformanceManager=new Ui(h.core),h._pageViewManager=new Ri(b,h.config.overridePageViewDuration,h.core,h._pageViewPerformanceManager),h._pageVisitTimeManager=new Mi(h.diagLog(),function(e,t,n){h.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t={PageName:e,PageUrl:t})}),h._telemetryInitializers=h._telemetryInitializers||[],r.isBrowserLinkTrackingEnabled()||(g=["/browserLinkSignalR/","/__browserLink/"],h._telemetryInitializers.push(function(e){if(e.baseType===Ti.dataType){var t=e.baseData;if(t)for(var n=0;n<g.length;n++)if(t.target&&~t.target.indexOf(g[n]))return!1}return!0})),(v=new ji(h.diagLog(),"trackEvent")).action=function(e,t,n,r){(r=r||{})[Hi]=n.toString(),h.trackEvent({name:e,properties:r})},(y=new ji(h.diagLog(),"trackPageView")).action=function(e,t,n,r,i){(r=ee(r)?{}:r)[Hi]=n.toString(),h.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)};var s,o,c,u,l,p=Ye(),t=typeof history===E&&history?history:Qe("history"),d=tt(!0),f=b;!1===h.config.disableExceptionTracking&&!h.config.autoExceptionInstrumented&&p&&(s=p.onerror,p.onerror=function(e,t,n,r,i){var a=p[Bi],o=s&&s(e,t,n,r,i);return!0!==o&&f._onerror($r.CreateAutoException(e,t,n,r,i,a)),o},h.config.autoExceptionInstrumented=!0),!1===h.config.disableExceptionTracking&&!0===h.config.enableUnhandledPromiseRejectionTracking&&!h.config.autoUnhandledPromiseInstrumented&&p&&(o=p[r="onunhandledrejection"],p[r]=function(e){var t=p[Bi],n=o&&o.call(p,e);return!0!==n&&f._onerror($r.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!pe(t)&&ie(t.toString)?t.toString():st(t)}return e||""}(e),d?d.href:"",0,0,e,t)),n},h.config.autoUnhandledPromiseInstrumented=!0),!0===h.config.enableAutoRouteTracking&&t&&ie(t.pushState)&&ie(t.replaceState)&&p&&"undefined"!=typeof Event&&(c=b,he(n,function(e){e.identifier===Li&&(C=e)}),t.pushState=(l=t.pushState,function(){var e=l.apply(this,arguments);return qi(p,lr(c.config.namePrefix+"pushState")),qi(p,lr(c.config.namePrefix+"locationchange")),e}),t.replaceState=(u=t.replaceState,function(){var e=u.apply(this,arguments);return qi(p,lr(c.config.namePrefix+"replaceState")),qi(p,lr(c.config.namePrefix+"locationchange")),e}),p.addEventListener&&(p.addEventListener(c.config.namePrefix+"popstate",function(){qi(p,lr(c.config.namePrefix+"locationchange"))}),p.addEventListener(c.config.namePrefix+"locationchange",function(){var e;C&&C.context&&C.context.telemetryTrace&&(C.context.telemetryTrace.traceID=Nn(),e="_unknown_",d&&d.pathname&&(e=d.pathname+(d.hash||"")),C.context.telemetryTrace.name=ir(c.diagLog(),e)),I&&(T=I),I=d&&d.href||"",setTimeout((function(e){c.trackPageView({refUri:e,properties:{duration:0}})}).bind(b,T),c.autoRoutePVDelay)}))),h.setInitialized(!0)}var g}}),b}var ji=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(W.WARNING,K.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?a.throwInternal(W.WARNING,K.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=Lr(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}};function Ki(n){oe(n,function(e,t){zn(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Gi(e,t,n){var r=e;if(r){for(;!t(r,n);)if(!(r=r.parentNode)||!r.getAttribute)return null;return r}}function Xi(e){return"A"===e.nodeName}function Qi(e){return zn(Ji(e,"data-bi-dnt"))}function Ji(e,t){return Gi(e,Yi,t)}function Yi(e,t){return zn(e=e.getAttribute(t))||""===e}function Zi(e){return"["+e+"]"}function $i(n,r,i,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,r&&r.apply(a,e)},i),t&&n&&n.apply(a,e)}}function ea(){var e=Ye(),t=Ze();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function ta(){var e,t={h:0,w:0},n=Ye(),r=Ze();return n&&r&&n.screen&&(e=r.body||{},r=r.documentElement||{},t.h=n.innerHeight||e.clientHeight||r.clientHeight,t.w=n.innerWidth||e.clientWidth||r.clientWidth),t}var na,ra={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};(Ur=na={})[Ur.PAGE_ACTION=0]="PAGE_ACTION",Ur[Ur.CONTENT_UPDATE=1]="CONTENT_UPDATE";var ia={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function aa(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return zn(t)&&"pii"==t.toLowerCase()}catch(n){return}}function oa(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:sa(e,t)}function sa(e,t){if(!t)return null;var n,r,i,a=t.protocol+"//"+(t.hostname||t.host)+(zn(t.port)?":"+t.port:"")+t.pathname;return e.urlCollectQuery&&((n=t.search)||-1!=(i=(r=t.hash||"").indexOf("?"))&&(n=r.slice(i)),a+=n),e.urlCollectHash&&(a+=t.hash||""),a}function ca(e){return e.callback&&"function"==typeof e.callback.signedinStatus?e.callback.signedinStatus():e.isLoggedIn}function ua(e,t){var n,r="",i={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:he(o,function(e){"ANON"!==e&&a.push(e)});try{try{Wn&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){t.throwInternal(W.CRITICAL,Vn.FailedToGetCookies,"Failed to get cookies ")}he(a,function(e){i.hasOwnProperty(e)||(i[e]="",qn&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(r+=e+"="+n+";"))})}catch(s){t.throwInternal(W.CRITICAL,Vn.FailedToGetCookies,"Failed to get cookies ")}return r}function la(t){!function n(e){var t=Ze()||{};/in/.test(t.readyState)?setTimeout(function(){n(e)},100):e.call()}(function(){var e;qn&&"complete"===document.readyState?t():(e=Ye())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var pa={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},da={parentId:"parentId",parentName:"parentName"},fa={parentId:"pI",parentName:"pN"},ga=(ha.prototype.getMetadata=function(){var e={},t={};return qn&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),Qn(!0,t,e)},ha.prototype.getVisibleContent=function(){var e,t,n,r,i,a,o=ta(),s={top:0,bottom:o.h,left:0,right:o.w},c=null,u=[];if(c=qn?document.querySelectorAll(Zi(this._contentBlobFieldNames.areaName)+","+Zi(this._contentBlobFieldNames.slotNumber)+","+Zi(this._config.biBlobAttributeTag)):c)for(var l=0;l<c.length;l++){var p=c[l];Qi(p)||(e=s,0,!(0<(t=(a=p.getBoundingClientRect()).left,n=a.top,r=a.right,i=a.bottom,a=e.top,Math.max(0,Math.min(r,e.right)-Math.max(t,e.left))*Math.max(0,Math.min(i,e.bottom)-Math.max(n,a)))))||(p=this.getElementContent(p,na.CONTENT_UPDATE))&&u.push(p)}return u},ha.prototype.getElementContent=function(e,t){if(!e)return{};var n,r,i,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){r=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(r)}catch(o){this._traceLogger.throwInternal(W.CRITICAL,Vn.CannotParseBiBlobValue,"Can not parse "+r)}}else this._isTrackedWithDataBi(e)&&(a=Qn(a,this._populateElementContentwithDataBi(i=e,e)));else if(r=(n=Ji(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):r)try{a=JSON.parse(r)}catch(o){this._traceLogger.throwInternal(W.CRITICAL,Vn.CannotParseBiBlobValue,"Can not parse "+r)}else i=Gi(e,this._isTrackedWithDataBi),a=Qn(a,this._populateElementContentwithDataBi(i,e));return Ki(a),this._config.autoCapture.lineage&&t===na.PAGE_ACTION&&(a=Qn(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?Qn(a,this._getParentDetails(n||i,a)):a},ha.prototype.getLineageDetails=function(e){for(var t,n,r,i=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],u=e.getAttribute(s)||e[s];if(c){try{var l=JSON.parse(c)}catch(p){this._traceLogger.throwInternal(W.CRITICAL,Vn.CannotParseDataAttribute,"Can not parse "+c)}l&&(n=l.cN||l.cT,r=l.id||undefined,(n||r)&&(i.push(n),u&&(t=n),a.push(r)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),r=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||r)&&(i.push(n),u&&(t=n),a.push(r));e=e.parentElement}return{lineage:i.join(">"),lineageById:a.join(">"),lineageContainerName:t}},ha.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var r=Ji(e,this._contentBlobFieldNames.areaName),i=Qn({},this._getAreaContent(r)),r=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",t=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:r||e.getAttribute(this._contentBlobFieldNames.contentName)||t||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(W.WARNING,Vn.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},ha.prototype._getMetaDataFromDOM=function(e,t){var n={};if(qn)for(var r=document.querySelectorAll("meta"),i=0;i<r.length;i++){var a=r[i];a.name&&(a.name.toLowerCase().indexOf(e)||(n[t?a.name.replace(e,""):a.name]=a.content))}return n},ha.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},ha.prototype._getDefaultContentName=function(e,t){if(!1===t||aa(e)||!e.tagName)return"";var n,r=Ze()||{};switch(e.tagName){case"A":n=r.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},ha.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?fa:da).parentId,r=(this._contentBlobFieldNames.isShortNames?fa:da).parentName,i=t[n],t=t[r];return i||t||!e?{}:this._populateParentInfo(e,n,r)},ha.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},ha.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},ha.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||~t[n].name.indexOf("data-bi-"))return!0;return!1},ha.prototype._populateParentInfo=function(e,t,n){var r,i,a={},o=this._config.biBlobAttributeTag,s=Gi(e.parentElement,this._isTracked);if(s){if(e=s.getAttribute(o)||e[o]){try{var c=JSON.parse(e)}catch(u){this._traceLogger.throwInternal(W.CRITICAL,Vn.CannotParseDataAttribute,"Can not parse "+e)}c&&(r=c.id,i=c.cN)}else r=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName);r&&(a[t]=r),i&&(a[n]=i)}return a},ha);function ha(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?pa.shortNames:pa.longNames}var ma,va={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},ya=(Ca.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},Ca.prototype.onLoad=function(){var e=this;la(function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},Ca.prototype.click=function(){var e,t=this,n=Ye(),r=Ze();n&&n.addEventListener?(e=~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):r&&r.attachEvent&&(r.attachEvent("onclick",function(e){t._processClick(e)}),r.attachEvent("keyup",function(e){t._processClick(e)}))},Ca.prototype.scroll=function(e){var t=this,n=$i(null,function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:ra.SCROLL})},e.scroll,this);(e=Ye())&&(e.addEventListener?e.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},Ca.prototype.maxScroll=function(t){var e=function(){var e=ea();t.v=(t.v>e.v?t:e).v},n=Ye();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},Ca.prototype.resize=function(e){var t=this,n=$i(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:ra.RESIZE})},null,e.resize,this);(e=Ye())&&(e.addEventListener?e.addEventListener("resize",n):e.attachEvent&&e.attachEvent("onresize",n))},Ca.prototype.onUnload=function(){var e,t=this._analyticsPlugin;function n(){t&&t.capturePageUnload({isAuto:!0})}t&&(xn(n,e=((t||{}).core||{}).config.disablePageUnloadEvents),Sn(n,e))},Ca.prototype._processClick=function(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=Ye(),r=(e=e||n.event).srcElement||e.target,i={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)i.actionType=ra.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)i.actionType=ra.CLICKLEFT;else if("keyCode"in(n=e)&&13===n.keyCode)i.actionType=ra.KEYBOARDENTER;else if("keyCode"in(n=e)&&32===n.keyCode)i.actionType=ra.KEYBOARDSPACE;else{if(!("which"in e?2===e.which:"button"in e&&4===e.button))return;i.actionType=ra.CLICKMIDDLE}for(;r&&r.tagName;){if(t[(r=r.control&&t[r.control.tagName.toUpperCase()]?r.control:r).tagName.toUpperCase()]){"INPUT"==r.tagName.toUpperCase()&&!va[r.type.toUpperCase()]||this._analyticsPlugin.capturePageAction(r,i,{},a);break}r=r.parentElement||r.parentNode}},Ca);function Ca(e,t){this._analyticsPlugin=e,this._traceLogger=t}function Ta(e,t,n){var r="";return t&&t[n]?r=t[n]:e&&(r=e[n]),r}function Ia(e,t,n,r,i,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=r,this._pageTagsCallback=i,this.metaTags=a,this._traceLogger=o,this._pageTags={}}(Ur=ma={})[Ur.UNDEFINED=0]="UNDEFINED",Ur[Ur.NAVIGATIONBACK=1]="NAVIGATIONBACK",Ur[Ur.NAVIGATION=2]="NAVIGATION",Ur[Ur.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",Ur[Ur.APPLY=4]="APPLY",Ur[Ur.REMOVE=5]="REMOVE",Ur[Ur.SORT=6]="SORT",Ur[Ur.EXPAND=7]="EXPAND",Ur[Ur.REDUCE=8]="REDUCE",Ur[Ur.CONTEXTMENU=9]="CONTEXTMENU",Ur[Ur.TAB=10]="TAB",Ur[Ur.COPY=11]="COPY",Ur[Ur.EXPERIMENTATION=12]="EXPERIMENTATION",Ur[Ur.PRINT=13]="PRINT",Ur[Ur.SHOW=14]="SHOW",Ur[Ur.HIDE=15]="HIDE",Ur[Ur.MAXIMIZE=16]="MAXIMIZE",Ur[Ur.MINIMIZE=17]="MINIMIZE",Ur[Ur.BACKBUTTON=18]="BACKBUTTON",Ur[Ur.STARTPROCESS=20]="STARTPROCESS",Ur[Ur.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",Ur[Ur.COMPLETEPROCESS=22]="COMPLETEPROCESS",Ur[Ur.SCENARIOCANCEL=23]="SCENARIOCANCEL",Ur[Ur.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",Ur[Ur.DOWNLOAD=41]="DOWNLOAD",Ur[Ur.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",Ur[Ur.SEARCH=61]="SEARCH",Ur[Ur.SEARCHINITIATE=62]="SEARCHINITIATE",Ur[Ur.TEXTBOXINPUT=63]="TEXTBOXINPUT",Ur[Ur.PURCHASE=80]="PURCHASE",Ur[Ur.ADDTOCART=81]="ADDTOCART",Ur[Ur.VIEWCART=82]="VIEWCART",Ur[Ur.ADDWISHLIST=83]="ADDWISHLIST",Ur[Ur.FINDSTORE=84]="FINDSTORE",Ur[Ur.CHECKOUT=85]="CHECKOUT",Ur[Ur.REMOVEFROMCART=86]="REMOVEFROMCART",Ur[Ur.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",Ur[Ur.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",Ur[Ur.VIEWCARTPAGE=89]="VIEWCARTPAGE",Ur[Ur.VIEWPDP=90]="VIEWPDP",Ur[Ur.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",Ur[Ur.INTENTTOBUY=92]="INTENTTOBUY",Ur[Ur.PUSHTOINSTALL=93]="PUSHTOINSTALL",Ur[Ur.SIGNIN=100]="SIGNIN",Ur[Ur.SIGNOUT=101]="SIGNOUT",Ur[Ur.SOCIALSHARE=120]="SOCIALSHARE",Ur[Ur.SOCIALLIKE=121]="SOCIALLIKE",Ur[Ur.SOCIALREPLY=122]="SOCIALREPLY",Ur[Ur.CALL=123]="CALL",Ur[Ur.EMAIL=124]="EMAIL",Ur[Ur.COMMUNITY=125]="COMMUNITY",Ur[Ur.SOCIALFOLLOW=126]="SOCIALFOLLOW",Ur[Ur.VOTE=140]="VOTE",Ur[Ur.SURVEYINITIATE=141]="SURVEYINITIATE",Ur[Ur.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",Ur[Ur.REPORTAPPLICATION=143]="REPORTAPPLICATION",Ur[Ur.REPORTREVIEW=144]="REPORTREVIEW",Ur[Ur.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",Ur[Ur.CONTACT=160]="CONTACT",Ur[Ur.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",Ur[Ur.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",Ur[Ur.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",Ur[Ur.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",Ur[Ur.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",Ur[Ur.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",Ur[Ur.CHATINITIATE=180]="CHATINITIATE",Ur[Ur.CHATEND=181]="CHATEND",Ur[Ur.TRIALSIGNUP=200]="TRIALSIGNUP",Ur[Ur.TRIALINITIATE=201]="TRIALINITIATE",Ur[Ur.SIGNUP=210]="SIGNUP",Ur[Ur.FREESIGNUP=211]="FREESIGNUP",Ur[Ur.PARTNERREFERRAL=220]="PARTNERREFERRAL",Ur[Ur.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",Ur[Ur.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",Ur[Ur.SHOPPINGINTENT=232]="SHOPPINGINTENT",Ur[Ur.VIDEOSTART=240]="VIDEOSTART",Ur[Ur.VIDEOPAUSE=241]="VIDEOPAUSE",Ur[Ur.VIDEOCONTINUE=242]="VIDEOCONTINUE",Ur[Ur.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",Ur[Ur.VIDEOJUMP=244]="VIDEOJUMP",Ur[Ur.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",Ur[Ur.VIDEOBUFFERING=246]="VIDEOBUFFERING",Ur[Ur.VIDEOERROR=247]="VIDEOERROR",Ur[Ur.VIDEOMUTE=248]="VIDEOMUTE",Ur[Ur.VIDEOUNMUTE=249]="VIDEOUNMUTE",Ur[Ur.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",Ur[Ur.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",Ur[Ur.VIDEOREPLAY=252]="VIDEOREPLAY",Ur[Ur.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",Ur[Ur.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",Ur[Ur.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",Ur[Ur.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",Ur[Ur.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",Ur[Ur.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",Ur[Ur.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",Ur[Ur.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",Ur[Ur.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",Ur[Ur.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",Ur[Ur.IMPRESSION=280]="IMPRESSION",Ur[Ur.CLICK=281]="CLICK",Ur[Ur.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",Ur[Ur.ADBUFFERING=283]="ADBUFFERING",Ur[Ur.ADERROR=284]="ADERROR",Ur[Ur.ADSTART=285]="ADSTART",Ur[Ur.ADCOMPLETE=286]="ADCOMPLETE",Ur[Ur.ADSKIP=287]="ADSKIP",Ur[Ur.ADTIMEOUT=288]="ADTIMEOUT",Ur[Ur.OTHER=300]="OTHER",Ia.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),zn(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:t=(n=(t=(tt()||{}).pathname||"").split("/"))&&""!==n[n.length-1]?n[n.length-1]:"Undefined")),!zn(e.uri)&&Wn&&(e.uri=oa(this._config,tt()))},Ia.prototype._setCommonProperties=function(e,t,n){var r=this;r._setBasicProperties(e,n),r._setPageTags(e,n),r._pageTypeMetaTag=Ta(r.metaTags,r._config.coreData,"pageType"),r._marketMetaTag=Ta(r.metaTags,r._config.coreData,"market"),r._behaviorMetaTag=Ta(r.metaTags,r._config.coreData,"behavior"),zn(n.pageType)&&(e.pageType=n.pageType),zn(r._pageTypeMetaTag)&&!zn(e.pageType)&&(e.pageType=r._pageTypeMetaTag),zn(r._marketMetaTag)&&(e.market=r._marketMetaTag),e.isLoggedIn=ca(r._config),t.cookieEnabled=nn()},Ia.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},oe(n.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=Qn(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=Qn(!0,n._pageTags,n._pageTagsCallback())),zn(t.pageTags)&&(n._pageTags=Qn(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},Ia.prototype._getBehavior=function(e){var t;return e&&zn(e.behavior)?t=e.behavior:zn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},Ia.prototype._getValidBehavior=function(e){if(zn(e)){var t=parseInt(e);if((t=isNaN(t)?ma[e]:t)in ma)return t}return 0};var ba,Ea=(p(xa,ba=Ur=Ia),xa.prototype.capturePageView=function(e,t){e=zn(e)?e:{};var n={},r=zn(t)?t:{};this._setCommonProperties(n,r,e),n.refUri=(zn(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,(t=ua(this._config,this._traceLogger))&&(r.cookies=t),r.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,r)},xa);function xa(){return null!==ba&&ba.apply(this,arguments)||this}var Sa,_a=(p(Aa,Sa=Ur),Aa.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:1};$(e.sync)||(r.sync=e.sync),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.actionType=e.actionType,r.baseData.behavior=e.behavior,r.baseData.clickCoordinates=e.clickCoordinates,r.baseData.content=e.content,r.baseData.contentVer=e.contentVer,r.baseData.targetUri=e.targetUri,oe(t,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},Aa.prototype.capturePageAction=function(e,t,n,r){t=zn(t)?t:{};var i={},a=zn(n)?n:{};this._setCommonProperties(i,a,t),i.isManual=!t.isAuto,i.behavior=this._getBehavior(t);var o,s,n={};r?i.behavior=9:(s=this._config||{},(e&&$(s.syncPageActionNavClick)||s.syncPageActionNavClick)&&(t.actionType!==ra.CLICKLEFT&&t.actionType!==ra.KEYBOARDENTER||"a"!=e.tagName.toLowerCase()||(o=(e.getAttribute("href")||"").toLowerCase())&&(se(o,"https:")||se(o,"http:")||se(o,".")||se(o,"/"))&&(i.sync=3))),e&&(i.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=function(e){if((e=e&&Gi(e,Xi))&&1===e.length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}return""}(e);break;case"INPUT":var n=e.type;n&&ia[n.toUpperCase()]&&(n=tt()||{},t=e.form?e.form.action||n.pathname||"":n.pathname||"")}return t}(e),(n=Qn(n=this._contentHandler.getElementContent(e,na.PAGE_ACTION),this._getCustomTags(e)))&&n.bhvr&&!zn(t.behavior)&&(s="bhvr",(o=n)&&o[s]&&(c=o[s],delete o[s]),i.behavior=this._getValidBehavior(c))),zn(t.actionType)&&(i.actionType=t.actionType),zn(t.clickCoordinateX)&&zn(t.clickCoordinateY)&&(i.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),zn(t.targetUri)&&(i.targetUri=t.targetUri),i.contentVer="2.0";var c=this._config.callback.pageActionContentTags;i.content=Zi(JSON.stringify(Qn(t.content||n,"function"==typeof c?c(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=zn(t.refUri)?t.refUri:this._config.coreData.referrerUri,(t=ua(this._config,this._traceLogger))&&(a.cookies=t),this.trackPageAction(i,a)},Aa.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!aa(e))for(var r in e.attributes)r&&(!e.attributes[r]||(t=e.attributes[r].name)&&(t.toLowerCase().indexOf("ms.")||(n[t]=e.attributes[r].value)));e=e.parentElement||e.parentNode}return n},Aa.prototype._getTimeToClick=function(){var e=nt();return e&&e.timing&&(e=e.timing.navigationStart)&&0!==e?(new Date).getTime()-e:-1},Aa);function Aa(){return null!==Sa&&Sa.apply(this,arguments)||this}var Na,wa=(p(ka,Na=Ur),ka.prototype.trackContentUpdate=function(t,e){var n={web:{}};n.web.isManual=t.isManual;var r={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:3};he(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){r.baseData[e]=t[e]}),oe(e,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},ka.prototype.captureContentUpdate=function(e,t){e=zn(e)?e:{};var n={},r=zn(t)?t:{};this._setCommonProperties(n,r,e),n.behavior=this._getBehavior(e),zn(e.actionType)&&(n.actionType=e.actionType);var i=ta(),t=ea();n.pageHeight=qn?document.body.scrollHeight:null,n.vpHeight=i.h,n.vpWidth=i.w,n.vScrollOffset=t.v,n.hScrollOffset=t.h,n.contentVer="2.0",n.isManual=!e.isAuto,(t=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()))&&(n.content=t),zn(e.isDomComplete)?r.isDomComplete=e.isDomComplete:r.isDomComplete=!1,this.trackContentUpdate(n,r)},ka.prototype._getContentFormatted=function(e){return zn(e)?"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):Zi(JSON.stringify(e)):undefined},ka);function ka(){return null!==Na&&Na.apply(this,arguments)||this}var Pa,Da=(p(La,Pa=Ur),La.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:3};($((n=this._config||{}).syncUnloadAction)||n.syncUnloadAction)&&(r.sync=3),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,oe(t,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},La.prototype.capturePageUnload=function(e,t){e=zn(e)?e:{};var n={},r=zn(t)?t:{},t=qn?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,r.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),r.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+t.toString(),r.vpHeight=ta().h,r.vScrollOffset=e.vScrollOffset||this._maxScroll.v,!Wn||(e=(e=nt())?e.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(r.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,r)},La);function La(e,t,n,r,i,a){var o=Pa.call(this,e,t,null,n,{},{},r)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=r,o._timestamp=i,o._maxScroll=a,o}var Ra,Ma=(p(Oa,Ra=Ur),Oa.prototype.capturePageViewPerformance=function(e,t){e=zn(e)?e:{};var n={},t=zn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)},Oa);function Oa(){return null!==Ra&&Ra.apply(this,arguments)||this}function Va(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=en(e),this.lastPageViewId=Xn(),this.traceId=this.createTraceId()}var Ua=(Va.visitorId=function(){return Gn(en(null),"MUID")},Va.prototype.createTraceId=function(){return Xn().replace(/-/g,"")},Va.prototype.getTraceId=function(){return this.traceId},Va.prototype.getLastPageViewId=function(){return this.lastPageViewId},Va.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=Xn()):this.firstPageView=!0},Va.prototype.getMuidUserId=function(){var e=Gn(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},Va.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<Va.userIdPrefixes.length;t++)if(Va.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},Va.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},Va.prototype.getDeviceClass=function(){return this.deviceClass},Va.prototype.getAppUserId=function(){return this.appUserId},Va.prototype.syncMuid=function(e){var t=tt();return!(!t||!e||(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=Ze())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"),0))},Va.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},Va.userIdPrefixes=["c:","i:","w:"],Va);function Fa(){this._timers=[]}var Ha,Ba=(Fa.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},Fa),qa=(p(Wa,Ha=dn),Wa);function Wa(){var u,l,p,d,f,g,h,m=Ha.call(this)||this;m.identifier="WebAnalyticsPlugin",m.version="3.1.9";var v,y,C,T={h:0,v:0},r=!1;return j(Wa,m,function(s,c){function n(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}s._telemetryInitializers=s._telemetryInitializers||[],s.updateCoreDataConfig=function(e){h.coreData=Qn(!0,h.coreData,e)},s.refreshMetadata=function(){var e=y.getMetadata();u.metaTags=e,p.metaTags=e,l.metaTags=e,f.metaTags=e},s.initialize=function(e,t,n){var r=t;e.extensionConfig=e.extensionConfig||[],e.extensionConfig[s.identifier]=e.extensionConfig[s.identifier]||{},s._config=h=function(e){var n,t,r={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:qn?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},i=[];if(oe(r,function(e,t){re(t)&&i.push(e)}),e)return t=i,Ki(n=e),he(t,function(e,t){re(n[e])?Ki(n[e]):delete n[e]}),Qn(!0,r,e)}(e.extensionConfig[s.identifier]);var i=h.autoCapture,a=r.getWParam;if(r.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[s.identifier].disableExceptionTracking=!i.jsError,c.initialize(e,t,n),y=y||new ga(h,s.diagLog()),C=C||new ya(s,s.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(s.diagLog().throwInternal(W.WARNING,Vn.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}s.id=new Ua(t),v=new Ba,t=y.getMetadata(),u=new Ea(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),l=new _a(m,h,y,s.id,h.callback.pageActionPageTags,t,s.diagLog()),p=new wa(m,h,y,s.id,h.callback.contentUpdatePageTags,t,s.diagLog()),d=new Da(m,h,s.id,s.diagLog(),v,T),f=new Ma(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),h.syncMuid&&la(function(){var e=s.id.getMuidHost(h.muidDomain);s.id.syncMuid(e)}),i.pageView&&C.pageView(),i.onLoad&&C.onLoad(),i.click&&C.click(),i.scroll&&C.scroll(h.debounceMs),i.resize&&C.resize(h.debounceMs),(i.onUnload||h.manualPageUnload)&&C.maxScroll(T),i.onUnload&&C.onUnload()},s.processTelemetry=function(e,t){Yn(e,s.identifier);var n=e;"PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=3):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=1,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=1,delete n.baseData.isValid,delete n.baseData.durationMs),e=null,"PageviewData"!==n.baseType?h.manageCv&&(e=g.getCv())&&e.increment():h.manageCv&&((e=g.getCv())?e.seed():e=g.getCv());for(var r=!1,i=s._telemetryInitializers.length,a=0;a<i;++a){var o=s._telemetryInitializers[a];if(o&&!1===o.call(null,n)){r=!0;break}}r||s.processNext(n,t)},s.addTelemetryInitializer=function(e){s._telemetryInitializers.push(e)},s.trackEvent=function(n,e){n.latency=n.latency||1,n.baseData=n.baseData||{},n.data=n.data||{},zn(e)&&oe(e,function(e,t){n.data[e]=t}),s.core.track(n)},s.trackPageView=function(e,t){v._recordTimeSpan("dwellTime",!1),T.v=0,r=!1,s.id.initializeIds(),e.id=s.id.getLastPageViewId(),c.sendPageViewInternal(e,t,n(e))},s.capturePageView=function(e,t){u.capturePageView(e,t)},s.trackPageViewPerformance=function(e,t){c.sendPageViewPerformanceInternal(e,t,n(e))},s.capturePageViewPerformance=function(e,t){f.capturePageViewPerformance(e,t)},s.trackException=function(e,t){e.id=e.id||Xn(),c.sendExceptionInternal(e,t,n(e))},s.trackPageAction=function(e,t){l.trackPageAction(e,t)},s.capturePageAction=function(e,t,n,r){var i=e;t&&t.isAuto&&zn(Ji(i,"data-bi-mto"))||Qi(i)||l.capturePageAction(e,t,n,r)},s.trackContentUpdate=function(e,t){p.trackContentUpdate(e,t)},s.captureContentUpdate=function(e,t){p.captureContentUpdate(e,t)},s.trackPageUnload=function(e,t){r||(r=!0,d.trackPageUnload(e,t))},s.capturePageUnload=function(e,t){r||(r=!0,d.capturePageUnload(e,t))},s._populatePageViewPerformance=function(e){s._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},s.setContentHandler=function(e){y=e},s.setAutoCaptureHandler=function(e){C=e}}),m}var za=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function ja(e,t){void 0===t&&(t=za);var n=null;if(e)for(var r=e.split(","),i=0;i<r.length;i++)!function(e,t){if(void 0===t&&(t=za),e&&!(e.length<4)){for(var n=!1,r=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"==r&&e.length<=256){n=!0;break}return n}}(r[i],t)||(n?n+=","+r[i]:n=r[i]);return n}var Ka=(Ga.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},Ga.prototype._getMetaDataFromDOM=function(e){var t={},n=Ze();if(n)for(var r=n&&n.querySelectorAll("meta"),i=0;i<r.length;i++){var a=r[i];a.name&&(a.name.toLowerCase().indexOf(e)||(t[a.name.replace(e,"")]=a.content))}return t},Ga.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=ja(e,this.flightIdNameSpaces))},Ga.prototype._getAppExpId=function(){return this.appExpId},Ga.prototype._readExpIdFromCookie=function(){var e=Gn(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},Ga.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},Ga.validateAppExpId=ja,Ga._staticInit=void be(Ga.prototype,"expId",Ga.prototype.getExpId),Ga);function Ga(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=za.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=en(t),this._propertiesConfig=e;var n=Ze();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var Xa=function(){},Qa=(Ja.prototype.getLocalId=function(){return this._customLocalId||(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(e=Gn(this._cookieMgr,"MUID"))&&this.setLocalId("t:"+e),undefined);var e},Ja.prototype.setLocalId=function(e){this._customLocalId=e},Ja.cookieSeparator="|",Ja.userCookieName="ai_user",Ja._staticInit=void be(Ja.prototype,"localId",Ja.prototype.getLocalId,Ja.prototype.setLocalId),Ja);function Ja(e,t,n){var r,i;this.core=n,this._propertiesConfig=t,(n=this._cookieMgr=en(n,e))&&n.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(r=Gn(n,"MUID"))&&this.setLocalId("t:"+r),this._propertiesConfig.enableApplicationInsightsUser&&(!(r=Gn(n,Ja.userCookieName))||0<(i=r.split(Ja.cookieSeparator)).length&&(this.id=i[0]),this.id||(this.id=An(e&&!$(e.idLength)?e.idLength:22),i=ge(new Date),this.accountAcquisitionDate=i,e=[this.id,i],i=this._propertiesConfig.cookieDomain||undefined,n.set(Ja.userCookieName,e.join(Ja.cookieSeparator),31536e3,i)))),"undefined"!=typeof navigator&&(this.locale=(n=navigator).userLanguage||n.language)}var Ya="([\\d,.]+)",Za="Unknown",$a=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],eo=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function to(e,t){return~t.indexOf(e)}var no=(ro._staticInit=void be(ro.prototype,"userConsent",ro.prototype.getUserConsent),ro);function ro(e,t){var r=en(t),i=e||{};j(ro,this,function(c){var e,t,n=tt();!n||(e=n.hostname)&&(c.domain="file:"===n.protocol?"local":e),i.populateBrowserInfo&&(t=i.userAgent,n=(i.userAgentData||{}).brands,(e=et())&&(t=t||e.userAgent||"",n=n||(e.userAgentData||{}).brands),function(e,t){if(ue(t))try{for(var n=0;n<eo.length;n++){var r=function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}(eo[n].br,t);if(r)return c.browser=eo[n].b,c.browserVer=r}}catch(s){}var i,a,o;e&&(o=function(e){if(e)for(var t=0;t<$a.length;t++)if(to($a[t].ua,e))return $a[t].b;return Za}(e),c.browser=o,c.browserVer=(i=e,"MSIE"===(a=o)?(o=(e=i).match(/MSIE ([\d,.]+)/))?o[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0:function(e,t){"Safari"===e?e="Version":"Edge"===e&&to("Edg/",t)&&(e="Edg");var n=t.match(RegExp(e+"/"+Ya));return n||"Opera"===e&&(n=t.match(/OPR\/([\d,.]+)/))?n[1]:Za}(a,i)))}(t,n),t={h:0,w:0},(n=Ye())&&n.screen&&(t.h=screen.height,t.w=screen.width),c.screenRes=t.w+"X"+t.h),c.getUserConsent=function(){return i.userConsented||!!Gn(r,i.userConsentCookieName||"MSCC")},c.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(n){}return null},be(c,"userConsent",c.getUserConsent)})}var io={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},ao="([\\d,.]+)",oo="([\\d,_,.]+)",so="Unknown",co=[{r:(Ur={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i}).WINPHONE,os:"Windows Phone"},{r:Ur.WINRT,os:"Windows RT"},{r:Ur.WIN,os:"Windows"},{r:Ur.IOS,os:"iOS"},{r:Ur.ANDROID,os:"Android"},{r:Ur.LINUX,os:"Linux"},{r:Ur.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:Ur.OSX,os:"Mac OS X"}];function uo(e,t){return(e=e.match(RegExp(t+" "+ao)))?io[e[1]]||e[1]:so}function lo(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null}var po=function(e){var t,n,r,i;e.populateOperatingSystemInfo&&(i=et()||{},r=e.userAgent||i.userAgent||"",e=e.userAgentData||i.userAgentData||{},r&&(i=function(e){for(var t=0;t<co.length;t++){var n=co[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&~e.indexOf(n.s))return n.os}return so}(r.toLowerCase()),this.name=i,this.ver=(t=r,"Windows"===(n=i)?uo(t,"Windows NT"):"Android"===n?uo(t,n):"Mac OS X"===n?(i=(r=t).match(RegExp("Mac OS X "+oo)))&&(r=i[1].replace(/_/g,"."))?(i=lo(r))?r.split(i)[0]:r:so:"iOS"===n&&(t=(n=t).match(RegExp("OS "+oo)))&&(n=t[1].replace(/_/g,"."))?(t=lo(n))?n.split(t)[0]:n:so)),this.name&&this.name!==so||!pe(e.platform)||(this.name=e.platform))},fo=(go.prototype.getMsfpc=function(){return Gn(this._cookieMgr,"MSFPC")},go.prototype.getAnid=function(){return Gn(this._cookieMgr,"ANON").slice(0,34)},go._staticInit=(be(go.prototype,"msfpc",go.prototype.getMsfpc),void be(go.prototype,"anid",go.prototype.getAnid)),go);function go(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=en(t)}var ho=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},mo=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},vo=function(){},yo=(Co.prototype.setId=function(e){this.customId=e},Co._staticInit=void be(Co.prototype,"id",Co.prototype.getId=function(){return pe(this.customId)?this.customId:this.automaticId},Co.prototype.setId),Co);function Co(){}var To,Io,bo=function(e,t,n,r){e.enableApplicationInsightsTrace&&(this.traceId=t||Nn(),this.parentId=n,this.name=r,(r=tt())&&r.pathname&&(this.name=r.pathname))},Eo=Ee({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),xo=Ee({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),So=Ee({locale:"locale",localId:"localId",id:"id"}),_o=Ee({osName:"name",ver:"ver"}),Ao=Ee({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),No=Ee({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),wo=Ee({popSample:"popSample",eventFlags:"eventFlags"}),ko=Ee({tz:"tz"}),Po=Ee({sessionId:"sesId"}),Do=Ee({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),Lo=Ee({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),Ro=Ee({traceId:"traceID",traceName:"name",parentId:"parentID"}),Mo=Ee({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),Oo="MicrosoftApplicationsTelemetryDeviceId",Vo=(Uo.prototype.getSequenceId=function(){return++this._sequenceId},Uo);function Uo(e,t){this._sequenceId=0;var n=e.propertyStorageOverride;this.seq=this._sequenceId,this.epoch=Cn(!1).toString();var r,i,a=en(t,e);a.isEnabled()||n?(r=a,i=Oo,e=(e=(t=n)?t.getProperty(i)||"":Gn(r,i))||_n(),t=a,r=Oo,i=e,n?n.setProperty(r,i):t.set(r,i,31536e3),this.installId=e):a.purge(Oo)}function Fo(){return To=To===undefined?!!Bo(Io.LocalStorage):To}function Ho(){return Fo()?Bo(Io.LocalStorage):null}function Bo(e){var t,n,r=null;try{var i=U();if(!i)return null;n=new Date,(r=e===Io.LocalStorage?i.localStorage:i.sessionStorage)&&ie(r.setItem)&&(r.setItem(n,n),t=r.getItem(n)!==n,r.removeItem(n),t&&(r=null))}catch(a){r=null}return r}function qo(e,t,n){var r=Ho();if(null!==r)try{return r.setItem(t,n),1}catch(i){To=!1,e.throwInternal(W.CRITICAL,Vn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+i)}}function Wo(e,t){var n=Ho();if(null!==n)try{return n.getItem(t)}catch(r){To=!1,e.throwInternal(W.CRITICAL,Vn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+r)}return null}(dn=Io=Io||{})[dn.LocalStorage=0]="LocalStorage",dn[dn.SessionStorage=1]="SessionStorage";var zo=(jo.acquisitionSpan=864e5,jo.renewalSpan=18e5,jo.cookieUpdateInterval=6e4,jo.cookieNameConst="ai_session",jo);function jo(e,t){var c,u,l=ht(e),p=en(e);j(jo,this,function(o){var e,r={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function i(e){var t,n,r=o.automaticSession;0<(e=e.split("|")).length&&r.setId(e[0]);try{1<e.length&&(t=+e[1],r.acquisitionDate=+new Date(t),r.acquisitionDate=0<r.acquisitionDate?r.acquisitionDate:0),2<e.length&&(n=+e[2],r.renewalDate=+new Date(n),r.renewalDate=0<r.renewalDate?r.renewalDate:0)}catch(i){l.throwInternal(W.CRITICAL,Vn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+i)}0===r.renewalDate&&l.throwInternal(W.WARNING,Vn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!$(n)&&n?fe(n)?e.setId(Xn()):e.setId(Xn(n)):e.setId(An(r&&r.idLength?r.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),Fo()||l.throwInternal(W.WARNING,Vn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var r=t+o.config.sessionExpirationMs(),i=n+o.config.sessionRenewalMs(),a=new Date,n=[e,t,n];r<i?a.setTime(r):a.setTime(i),i=o.config.cookieDomain?o.config.cookieDomain():null,p.set(u(),n.join("|")+";expires="+a.toUTCString(),null,i),c=(new Date).getTime()}ie(t.sessionExpirationMs)||(r.sessionExpirationMs=function(){return jo.acquisitionSpan}),ie(t.sessionRenewalMs)||(r.sessionRenewalMs=function(){return jo.renewalSpan}),o.config=r,u=function(){return o.config.namePrefix&&o.config.namePrefix()?jo.cookieNameConst+o.config.namePrefix():jo.cookieNameConst},o.automaticSession=new yo,o.update=function(){o.automaticSession.getId()||(((r=Kn(u()))&&ie(r.split)||(r=Wo(l,u())))&&i(r),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),r=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();r||t?a():(!(t=c)||jo.cookieUpdateInterval<n-t)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;qo(l,u(),[e,t,n].join("|"))}})}var Ko,Go=pe,Xo=(Qo.prototype.getSessionId=function(){var e=this.session;if(e&&Go(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&Go(t)&&(e.automaticId=t),e.automaticId},Qo.prototype.applyApplicationContext=function(e){var t=this.app;_e(e=e.ext[Mo.AppExt],Eo.id,t.id,Go),_e(e,Eo.ver,t.ver,Go),_e(e,Eo.appName,t.name,Go),_e(e,Eo.locale,t.locale,Go),_e(e,Eo.expId,t.getExpId(),Go),_e(e,Eo.env,t.env,Go)},Qo.prototype.applyUserContext=function(e){var t=this.user;_e(e=e.ext[Mo.UserExt],So.localId,t.getLocalId(),Go),_e(e,So.locale,t.locale,Go),_e(e,So.id,t.id,Go)},Qo.prototype.applyWebContext=function(e){var t=this.web;_e(e=e.ext[Mo.WebExt],xo.domain,t.domain,Go),_e(e,xo.browser,t.browser,Go),_e(e,xo.browserVer,t.browserVer,Go),_e(e,xo.screenRes,t.screenRes,Go),e[xo.userConsent]=t.getUserConsent(),e[xo.consentDetails]=t.getUserConsentDetails()},Qo.prototype.applyOsContext=function(e){var t=this.os;_e(e=e.ext[Mo.OSExt],_o.osName,t.name,Go),_e(e,_o.ver,t.ver,Go)},Qo.prototype.applySdkContext=function(e){var t=this.sdk;(e=e.ext[Mo.SdkExt])[Ao.seq]=t.getSequenceId(),e[Ao.epoch]=t.epoch,_e(e,Ao.installId,t.installId,Go)},Qo.prototype.applyIntWebContext=function(e){var t=this.intWeb;_e(e=e.ext[Mo.IntWebExt],No.msfpc,t.getMsfpc(),Go),_e(e,No.anid,t.getAnid(),Go),_e(e,No.serviceName,t.serviceName,Go)},Qo.prototype.applyUtcContext=function(e){var t=this.utc;(e=e.ext[Mo.UtcExt])[wo.popSample]=t.popSample,0<t.eventFlags&&(e[wo.eventFlags]=t.eventFlags)},Qo.prototype.applyLocContext=function(e){e.ext[Mo.LocExt][ko.tz]=this.loc.tz},Qo.prototype.applySessionContext=function(e){e.ext[Mo.AppExt][Po.sessionId]=this.getSessionId()},Qo.prototype.applyDeviceContext=function(e){var t=this.device;_e(e=e.ext[Mo.DeviceExt],Do.localId,t.localId,Go),_e(e,Do.make,t.make,Go),_e(e,Do.model,t.model,Go),_e(e,Do.deviceClass,t.deviceClass,Go)},Qo.prototype.applyCloudContext=function(e){var t=this.cloud;_e(e=e.ext[Mo.CloudExt],Lo.role,t.role,Go),_e(e,Lo.roleInstance,t.roleInstance,Go),_e(e,Lo.roleVer,t.roleVer,Go)},Qo.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;_e(e=e.ext[Mo.TraceExt],Ro.traceId,t.traceId,Go),_e(e,Ro.traceName,t.name,Go),_e(e,Ro.parentId,t.parentId,Go)},Qo);function Qo(e,t,n){var r=this;r.app=new Ka(t,n),r.cloud=new Xa,r.user=new Qa(e,t,n),r.os=new po(t),r.web=new no(t,n),r.sdk=new Vo(e,n),r.intWeb=new fo(t,n),r.utc=new ho(t),r.loc=new mo,r.device=new vo,r.telemetryTrace=new bo(t),r.sessionManager=new zo(n,t),r.session=new yo}function Jo(){var o,r=Ko.call(this)||this;r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.1.9";var s={};return j(Jo,r,function(a,e){a.initialize=function(e,t,n){Ko.prototype.initialize.call(r,e,t,n),o=new Xo(e,a._getTelCtx().getExtCfg(a.identifier),t)},a.processTelemetry=function(e,t){Yn(e,a.identifier),t=a._getTelCtx(t);var n,r,i=e.ext=e.ext||{};e.data=e.data||{},i[Mo.AppExt]=i[Mo.AppExt]||{},i[Mo.UserExt]=i[Mo.UserExt]||{},i[Mo.WebExt]=i[Mo.WebExt]||{},i[Mo.OSExt]=i[Mo.OSExt]||{},i[Mo.SdkExt]=i[Mo.SdkExt]||{},i[Mo.IntWebExt]=i[Mo.IntWebExt]||{},i[Mo.UtcExt]=i[Mo.UtcExt]||{},i[Mo.LocExt]=i[Mo.LocExt]||{},i[Mo.DeviceExt]=i[Mo.DeviceExt]||{},i[Mo.TraceExt]=i[Mo.TraceExt]||{},i[Mo.CloudExt]=i[Mo.CloudExt]||{},o.applyApplicationContext(e),o.applyUserContext(e),o.applyWebContext(e),o.applyOsContext(e),o.applySdkContext(e),o.applyIntWebContext(e),o.applyUtcContext(e),o.applyLocContext(e),o.applySessionContext(e),o.applyDeviceContext(e),o.applyAITraceContext(e),o.applyCloudContext(e),he(Ie(i),function(e){0===Ie(i[e]).length&&delete i[e]}),n=s,r=e.data,n&&oe(n,function(e,t){r[e]||(r[e]=t)}),a.processNext(e,t)},a.getPropertiesContext=function(){return o},a.setProperty=function(e,t){s[e]=t}}),r}var Yo=(p(Jo,Ko=At),Jo),Zo="REAL_TIME",$o=(es.create=function(e,t){return new es(e,t)},es);function es(i,e){var a=e?[].concat(e):[];(e=this).iKey=function(){return i},e.count=function(){return a.length},e.events=function(){return a},e.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(a=t?a.concat(e):e.concat(a),e.length):0},e.split=function(e,t){var n,r=new es(i);return e<a.length&&(n=a.length-e,ee(t)||(n=t<n?t:n),r.addEvents(a.splice(e,n),!0)),r}}var ts="metadata",ns=/\./,rs=function uu(t,e,C,n){var a="baseData",T=!!n,I=e,b={};j(uu,this,function(v){function y(e,d,f,g,h,m,v){oe(e,function(e,t){var n=null;if(t||zn(t)){var r,i=f,a=e,o=h,s=d;if(T&&!g&&ns.test(e)){var c=e.split("."),u=c.length;if(1<u){for(var o=o&&o.slice(),l=0;l<u-1;l++){var p=c[l],s=s[p]=s[p]||{};i+="."+p,o&&o.push(p)}a=c[u-1]}}(n=g&&((r=b[e=i])===undefined&&(7<=e.length&&(r=se(e,"ext.metadata")||se(e,"ext.web")),b[e]=r),r)||!I||!I.handleField(i,a)?function(e,t,n){if(!t&&!zn(t)||"string"!=typeof e)return null;if("string"==(e=typeof t)||"number"==e||"boolean"==e||ue(t))t={value:t};else if("object"!=e||t.hasOwnProperty("value")){if(ee(t.value)||""===t.value||!pe(t.value)&&!de(t.value)&&!fe(t.value)&&!ue(t.value))return null}else t={value:n?JSON.stringify(t):t};if(ue(t.value)&&!(0<t.value.length))return null;if(!ee(t.kind)){if(ue(t.value)||!(0===(n=t.kind)||0<n&&n<=13||32===n))return null;t.value=t.value.toString()}return t}(a,t,C):I.value(i,a,t,C))&&(r=n.value,s[a]=r,m&&m(o,a,n),v&&"object"==typeof r&&!ue(r)&&((n=o)&&(n=n.slice()).push(a),y(t,r,i+"."+a,g,n,m,v)))}})}v.createPayload=function(e,t,n,r,i,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:a,sendReason:i}},v.appendPayload=function(g,h,m){var e=g&&h&&!g.overflow;return e&&It(t,function(){return"Serializer:appendPayload"},function(){for(var e=h.events(),t=g.payloadBlob,n=g.numEvents,r=!1,i=[],a=[],o=g.isBeacon,s=o?65e3:3984588,c=o?65e3:2e6,u=0,l=0;u<e.length;){var p=e[u];if(p){if(m<=n){g.overflow=h.split(u);break}var d=v.getEventBlob(p);if(d&&d.length<=c){var f=d.length;if(s<t.length+f){g.overflow=h.split(u);break}t&&(t+="\n"),t+=d,20<++l&&(t.substr(0,1),l=0),r=!0,n++}else(d?i:a).push(p),e.splice(u,1),u--}u++}i&&0<i.length&&g.sizeExceed.push($o.create(h.iKey(),i)),a&&0<a.length&&g.failedEvts.push($o.create(h.iKey(),a)),r&&(g.batches.push(h),g.payloadBlob=t,g.numEvents=n,o=h.iKey(),-1===me(g.apiKeys,o)&&g.apiKeys.push(o))},function(){return{payload:g,theBatch:{iKey:h.iKey(),evts:h.events()},max:m}}),e},v.getEventBlob=function(i){try{return It(t,function(){return"Serializer.getEventBlob"},function(){var e={};e.name=i.name,e.time=i.time,e.ver=i.ver,e.iKey="o:"+function(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}(i.iKey);var r={},t=i.ext;t&&(e.ext=r,oe(t,function(e,t){y(t,r[e]={},"ext."+e,!0,null,null,!0)}));var n=e.data={};return n.baseType=i.baseType,t=n[a]={},y(i.baseData,t,a,!1,[a],function(e,t,n){is(r,e,t,n)},!0),y(i.data,n,"data",!1,[],function(e,t,n){is(r,e,t,n)},!0),JSON.stringify(e)},function(){return{item:i}})}catch(e){return null}}})};function is(e,t,n,r){if(r&&e){var i=jn(r.value,r.kind,r.propertyType);if(-1<i){var a=e[ts],o=(o=(a=a||(e[ts]={f:{}})).f)||(a.f={});if(t)for(var s=0;s<t.length;s++){var c=t[s];o[c]||(o[c]={f:{}});o=o[c].f||(o[c].f={})}o=o[n]={},ue(r.value)?o.a={t:i}:o.t=i}}}function as(){}var os=(as.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e)},as.getMillisToBackoffForRetry=function(e){return Math.min(Math.pow(2,e)*(2400+Math.floor(1200*Math.random())),6e5)},as),ss=function lu(){var c={};j(lu,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=(a=e.split(","),o=[],a&&he(a,function(e){o.push(ye(e))}),o);if("this-request-only"===t)return n;for(var r=1e3*parseInt(t,10),i=0;i<n.length;++i)c[n[i]]=xe()+r}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c;return t[e=ye(e)]!==undefined&&t[e]>xe()||(delete t[e],!1)}})},cs=function pu(){var t=!0,n=!0,r=!0,i="use-collector-delta",a=!1;j(pu,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){a||(e?(i=e,a=n=!0):n=!1,t=!0)}})},us="POST",ls="drop",Ur="requeue",ps="application/x-json-stream",ds="cache-control",fs="content-type",gs="kill-duration",hs="time-delta-millis",ms=((dn={})[1]=Ur,dn[100]=Ur,dn[200]="sent",dn[8004]=ls,dn[8003]=ls,dn);function vs(e){try{return e.responseText}catch(t){}return""}function ys(e,t){var n=!1;if(e&&t){var r=Ie(e);if(r&&0<r.length)for(var i=t.toLowerCase(),a=0;a<r.length;a++){var o=r[a];if(o&&ne(t,o)&&o.toLowerCase()==i){n=!0;break}}}return n}var Cs,Ts=function du(h,e,E,x){this._responseHandlers=[];var S,_,A,N,w="?cors=true&content-type="+ps+"&client-id=NO_AUTH&client-version="+Un,k=new ss,P=!1,D=new cs,L=!1,R=0,M=!0,O=[],V={},U=[],F=null,H=!1,B=!1;j(du,this,function(m){var s=!0;function o(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?ut()?r=a:lt()&&(r=u):2===n&&function(e){var t=!1;try{var t=!!Qe("fetch"),n=Qe("Request");t&&e&&n&&(t=Xe(n,"keepalive"))}catch(r){}return t}(t)?r=c:L&&3===n&&ct()&&(r=l),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function a(e,t,n){var r=new XDomainRequest;r.open(us,e.urlString),r.onload=function(){var e=vs(r);v(t,200,{},e),p(e)},r.onerror=function(){v(t,400,{})},r.ontimeout=function(){v(t,500,{})},r.onprogress=function(){},n?r.send(e.data):S._setTimeoutOverride(function(){r.send(e.data)},0)}function c(e,r,t){var n=((n={body:e.data,method:us}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,n);t&&(n.keepalive=!0),s&&(n.credentials="include"),e.headers&&0<Ie(e.headers).length&&(n.headers=e.headers),fetch(e.urlString,n).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),v(r,e.status,n,t),p(t)})["catch"](function(e){v(r,0,{})})}function u(e,a,t){function o(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=ye(t)),e}function n(e,t){var n,r,i;v(a,e.status,(i={},(n=e).getAllResponseHeaders?(e=n.getAllResponseHeaders(),r={},pe(e)&&he(ye(e).split(/[\r\n]+/),function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=ye(e.substring(0,n)).toLowerCase(),n=ye(e.substring(1+n)),r[t]=n):r[ye(e)]=1)}),r):(i=o(i,n,hs),i=o(i,n,gs),o(i,n,"kill-duration-seconds"))),t)}var r=Zn(us,e.urlString,s,!0,t);oe(e.headers,function(e,t){r.setRequestHeader(e,t)}),r.onload=function(){var e=vs(r);n(r,e),p(e)},r.onerror=function(){n(r)},r.ontimeout=function(){n(r)},r.send(e.data)}function v(e,t,n,r){try{e(t,n,r)}catch(i){S.diagLog().throwInternal(W.WARNING,Vn.SendPostOnCompleteFailure,st(i))}}function l(r,e,t){var n=200,i=r._thePayload;try{var a,o=et();o.sendBeacon(r.urlString,r.data)||(i?(a=[],he(i.batches,function(e){if(a&&e&&0<e.count()){for(var t=e.events(),n=0;n<t.length;n++)if(!o.sendBeacon(r.urlString,F.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))}),b(a,8003,i.sendType,!0)):n=0)}catch(s){S.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+s),n=0}finally{v(e,n,{},"")}}function y(e){return 2===e||3===e}function r(e){return B&&y(e)?2:e}function i(){return!P&&R<e}function n(){var e=U;return U=[],e}function d(e,t,n){return e&&0<e.length&&!P&&_[t]&&F&&(0!==t||i()&&(0<n||D.allowRequestSending()))}function f(e){var n={};return e&&he(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function C(o,s,c,u,l){if(o&&0!==o.length)if(P)b(o,1,u);else{u=r(u);try{var e=o,p=0!==u;It(A,function(){return"HttpManager:_sendBatches"},function(e){e&&(o=o.slice(0));for(var t=[],n=null,r=Jn(),e=_[u]||(p?_[1]:_[0]),i=(B||y(u)||e&&3===e._transport)&&!M&&L&&ct();d(o,u,s);){var a=o.shift();a&&0<a.count()&&(k.isTenantKilled(a.iKey())?t.push(a):(n=n||F.createPayload(s,c,p,i,l,u),F.appendPayload(n,a,h)?null!==n.overflow&&(o=[n.overflow].concat(o),n.overflow=null,g(n,r,Jn(),l),r=Jn(),n=null):(g(n,r,Jn(),l),r=Jn(),o=[a].concat(o),n=null)))}n&&g(n,r,Jn(),l),0<o.length&&(U=o.concat(U)),b(t,8004,u)},function(){return{batches:f(e),retryCount:s,isTeardown:c,isSynchronous:p,sendReason:l,useSendBeacon:y(u),sendType:u}},!p)}catch(t){S.diagLog().throwInternal(W.WARNING,Vn.CannotSerializeObject,"Unexpected Exception sending batch: "+st(t))}}}function T(e,t,n){e[t]=e[t]||{},e[t][S.identifier]=n}function g(u,l,p,d){var f,g,h;u&&u.payloadBlob&&0<u.payloadBlob.length&&(f=function(e){var t=w,n="";he(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+xe().toString(),e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),r=0;r<n.length;r++){var i=(n[r].ext||{}).intweb||{};if(zn(i.msfpc))return encodeURIComponent(i.msfpc)}return""}(e),zn(e)&&(t=t+"&ext.intweb.msfpc="+e),D.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+D.getClockSkewHeaderValue()),!A.getWParam||0<=(e=A.getWParam())&&(t+="&w="+e);for(var r=0;r<O.length;r++)t+="&"+O[r].name+"="+O[r].value;return t}(u),g=Jn(),h="sendAttempt",It(A,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<u.batches.length;e++)for(var t=u.batches[e].events(),n=0;n<t.length;n++){var r,i=t[n];H&&(T(r=i.timings=i.timings||{},"sendEventStart",g),T(r,"serializationStart",l),T(r,"serializationCompleted",p)),0<i[h]?i[h]++:i[h]=1}b(u.batches,1e3+(d||0),u.sendType,!0);var a={data:u.payloadBlob,urlString:f,headers:Qn({},V),_thePayload:u,_sendReason:d};ys(a.headers,ds)||(a.headers[ds]="no-cache, no-store"),ys(a.headers,fs)||(a.headers[fs]=ps);var o=null,s=!!m.sendHook,c=_[u.sendType];(c=!y(u.sendType)&&u.isBeacon&&2===u.sendReason&&(_[2]||_[3])||c)&&(o=function(e){D.firstRequestSent();var t=function(e,t){!function(e,t,n,r){var i=9e3,a=null,o=!1,s=!1;try{var c,u,l=!0;if(typeof e!==q){if(t&&(D.setClockSkew(t[hs]),c=t[gs]||t["kill-duration-seconds"],he(k.setKillSwitchTenants(t["kill-tokens"],c),function(t){he(n.batches,function(e){e.iKey()===t&&(a=a||[],e=e.split(0),n.numEvents-=e.count(),a.push(e))})})),200==e)return i=200;(!os.shouldRetryForStatus(e)||n.numEvents<=0)&&(l=!1),i=9e3+e%1e3}l&&(i=100,u=n.retryCnt,0===n.sendType&&(u<E?(o=!0,I(function(){0===n.sendType&&R--,C(n.batches,u+1,n.isTeardown,B?2:n.sendType,5)},B,os.getMillisToBackoffForRetry(u))):s=!0))}finally{o||(D.setClockSkew(),function(e,t,n,r){try{r&&S._backOffTransmission(),200===t&&(r||e.isSync||S._clearBackOff(),i=e.batches,H&&(a=Jn(),he(i,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,H&&he(e,function(e){T(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),b(e.batches,t,e.sendType,!0)}finally{0===e.sendType&&(R--,5!==n&&m.sendQueuedRequests(e.sendType,n))}var i,a}(n,i,r,s)),b(a,8004,n.sendType)}}(e,t,u,d)},n=u.isTeardown||u.isSync;try{c.sendPOST(e,t,n),m.sendListener&&m.sendListener(a,e,n,u.isBeacon)}catch(r){S.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+st(r)),v(t,0,{})}}),It(A,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;o&&(0===u.sendType&&R++,s&&!u.isBeacon&&3!==c._transport?(t={data:a.data,urlString:a.urlString,headers:Qn({},a.headers)},n=!1,It(A,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{m.sendHook(t,function(e){n=!0,M||e._thePayload||(e._thePayload=e._thePayload||a._thePayload,e._sendReason=e._sendReason||a._sendReason),o(e)},u.isSync||u.isTeardown)}catch(e){n||o(a)}})):o(a))})},function(){return{thePayload:u,serializationStart:l,serializationCompleted:p,sendReason:d}},u.isSync)),u.sizeExceed&&0<u.sizeExceed.length&&b(u.sizeExceed,8003,u.sendType),u.failedEvts&&0<u.failedEvts.length&&b(u.failedEvts,8002,u.sendType)}function I(e,t,n){t?e():S._setTimeoutOverride(e,n)}function p(e){var t=m._responseHandlers;try{for(var n,r=0;r<t.length;r++)try{t[r](e)}catch(i){S.diagLog().throwInternal(W.CRITICAL,Vn.PostResponseHandler,"Response handler failed: "+i)}!e||zn((n=JSON.parse(e)).webResult)&&zn(n.webResult.msfpc)&&N.set("MSFPC",n.webResult.msfpc,31536e3)}catch(a){}}function b(t,n,r,e){var i,a,o;t&&0<t.length&&x&&(i=x[zn(o=ms[n])||(o="oth",9e3<=n&&n<=9999?o="rspFail":8e3<=n&&n<=8999?o=ls:1e3<=n&&n<=1999&&(o="send")),o])&&It(A,function(){return"HttpManager:_sendBatchesNotification"},function(){I(function(){try{i.call(x,t,n,a,r)}catch(e){S.diagLog().throwInternal(W.CRITICAL,Vn.NotificationException,"send request notification failed: "+e)}},e||a,0)},function(){return{batches:f(t),reason:n,isSync:a,sendSync:e,sendType:r}},!(a=0!==r))}m.initialize=function(e,t,n,r,i){i=i||{},w=e+w,N=(A=t).getCookieMgr(),H=!A.config.disableEventTimings,e=!!A.config.enableCompoundKey,S=n,t=i.valueSanitizer,n=i.stringifyObjects,$(i.enableCompoundKey)||(e=!!i.enableCompoundKey),L=!at(),F=new rs(A,t,n,e);var a,e=r;r||(M=!1,(a=tt())&&a.protocol&&"file:"==a.protocol.toLowerCase()&&(s=!1),a=[],a=at()?[2,1]:[1,2,3],(i=i.transports)&&(de(i)?a=[i].concat(a):ue(i)&&(a=i.concat(a))),r=o(a,!1),e=o(a,!0),r||S.diagLog().warnToConsole("No available transport to send events")),(a={})[0]=r,a[1]=e||o([1,2,3],!0),a[2]=o([3,2,1],!0)||e,a[3]=o([2,3,1],!0)||e,_=a},m._getDbgPlgTargets=function(){return[_[0],k,F,_]},m.addQueryStringParameter=function(e,t){for(var n=0;n<O.length;n++)if(O[n].name===e)return void(O[n].value=t);O.push({name:e,value:t})},m.addHeader=function(e,t){V[e]=t},m.canSendRequest=function(){return i()&&D.allowRequestSending()},m.sendQueuedRequests=function(e,t){$(e)&&(e=0),B&&(e=r(e),t=2),d(U,e,0)&&C(n(),0,!1,e,t||0)},m.isCompletelyIdle=function(){return!P&&0===R&&0===U.length},m.setUnloading=function(e){B=e},m.addBatch=function(e){if(e&&0<e.count()){if(k.isTenantKilled(e.iKey()))return!1;U.push(e)}return!0},m.teardown=function(){0<U.length&&C(n(),0,!0,2,2)},m.pause=function(){P=!0},m.resume=function(){P=!1,m.sendQueuedRequests(0,4)},m.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&(ee(t)&&(t=1),B&&(t=r(t),n=2),C([e],0,!1,t,n||0))}})},Is=Wn?window:undefined,bs="eventsDiscarded",Es="overrideInstrumentationKey";function xs(){var T,e=Cs.call(this)||this;e.identifier="PostChannel",e.priority=1011;var I,b,E,x,S,_=!(e.version="3.1.9"),A=[],N=null,w=!1,k=0,P=500,D=0,L=1e4,R={},n=Zo,M=null,O=null,V=0,U=0,F={},H=-1,B=!0,q=!1;return j(xs,e,function(c,u){function i(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,B&&(e.ext=ke(e.ext),e.baseData&&(e.baseData=ke(e.baseData)),e.data&&(e.data=ke(e.data))),e.sync)if(V||w)e.latency=3,e.sync=!1;else if(b)return B&&(e=ke(e)),b.sendSynchronousBatch($o.create(e.iKey,[e]),!0===e.sync?1:e.sync,3),0;var n=e.latency,r=D,i=L;4===n&&(r=k,i=P);var a=!1;r<i?a=!f(e,t):(r=1,i=20,4===n&&(r=4,i=1),a=!0,function(e,t,n,r){for(;n<=t;){if((i=p(e,t,!0))&&0<i.count()){var i,a=i.split(0,r);if(0<(i=a.count()))return 4===n?k-=i:D-=i,y(bs,[a],5),1}n++}return g(),0}(e.iKey,e.latency,r,i)&&(a=!f(e,t))),a&&v(bs,[e],5)}function a(e,t,n){return e=h(e,t,n),b.sendQueuedRequests(t,n),e}function o(){0<=H&&h(H,0,S)&&b.sendQueuedRequests(0,S),!(0<k)||O||w||0<=(e=R[n][2])&&(O=s(function(){O=null,a(4,0,1),o()},e));var e=R[n][1];!M&&!N&&0<=e&&!w&&(0<D?M=s(function(){M=null,a(0===U?3:1,0,1),U++,U%=2,o()},e):U=0)}function s(e,t){0===t&&V&&(t=1);var n=1e3;return V&&(n=os.getMillisToBackoffForRetry(V-1)),c._setTimeoutOverride(e,t*n)}function r(){null!==M&&(c._clearTimeoutOverride(M),M=null,U=0)}function l(e,t){r(),N&&(c._clearTimeoutOverride(N),N=null),w||a(1,e,t)}function p(e,t,n){var r=F[t];return!(t=(r=r||F[t=1]).iKeyMap[e])&&n&&(t=$o.create(e),r.batches.push(t),r.iKeyMap[e]=t),t}function d(e,t){b.canSendRequest()&&!V&&(t=0<E&&E<D||t)&&null==N&&c.flush(e,null,20)}function f(e,t){var n=(e=B?ke(e):e).latency,r=p(e.iKey,n,!0);return r.addEvents([e],t)&&(4!==n?(D++,t&&0===e.sendAttempt&&d(!e.sync,0<x&&r.count()>=x)):k++,1)}function g(){for(var n=0,r=0,e=1;e<=4;e++)!function(t){var e=F[t];e&&e.batches&&he(e.batches,function(e){4===t?n+=e.count():r+=e.count()})}(e);D=r,k=n}function h(r,e,t){var i=!1,n=0===e;return!n||b.canSendRequest()?It(c.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=4;r<=n;){var e=F[n];e&&e.batches&&0<e.batches.length&&(he(e.batches,function(e){b.addBatch(e)?i=i||e&&0<e.count():t=t.concat(e.events()),4===n?k-=e.count():D-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&v(bs,t,4),i&&r<=H&&(H=-1,S=0)},function(){return{latency:r,sendType:e,sendReason:t}},!n):(H=0<=H?Math.min(H,r):r,S=Math.max(S,t)),i}function t(){R={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function m(e,t){var n=c._notificationManager||{},r=n[e];if(r)try{r.apply(n,t)}catch(i){c.diagLog().throwInternal(W.CRITICAL,Vn.NotificationException,e+" notification failed: "+i)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&0<t.length&&m(e,[t].concat(n))}function y(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&0<e.length&&he(e,function(e){e&&0<e.count()&&m(t,[e.events()].concat(n))})}function C(){x=T&&T.disableAutoBatchFlushLimit?0:Math.max(1500,L/6)}t(),F[4]={batches:[],iKeyMap:{}},F[3]={batches:[],iKeyMap:{}},F[2]={batches:[],iKeyMap:{}},F[1]={batches:[],iKeyMap:{}},C(),b=new Ts(500,2,1,{requeue:function(e,t){var n=[];he(e,function(e){e&&0<e.count()&&he(e.events(),function(e){e&&(e.sync&&(e.latency=4,e.sync=!1),e.sendAttempt<6?(Yn(e,c.identifier),i(e,!1)):n.push(e))})}),0<n.length&&v(bs,n,1),q&&l(2,2)},send:function(e,t,n){e&&0<e.length&&m("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){y("eventsSent",e,t),o()},drop:function(e,t){y(bs,e,8e3<=t&&t<=8999?t-8e3:0)},rspFail:function(e){y(bs,e,1),o()},oth:function(e,t){y(bs,e,0),o()}}),c._getDbgPlgTargets=function(){return[b]},c.initialize=function(a,o,s){It(o,function(){return"PostChannel:initialize"},function(){var e=o;u.initialize(a,o,s),c.setInitialized(!1);var t=c._getTelCtx();a.extensionConfig[c.identifier]=a.extensionConfig[c.identifier]||{},T=t.getExtCfg(c.identifier),c._setTimeoutOverride=T.setTimeoutOverride||setTimeout.bind(Is),c._clearTimeoutOverride=T.clearTimeoutOverride||clearTimeout.bind(Is),B=!T.disableOptimizeObj&&!!Qe("chrome");var n=e.getWParam;function r(e){"beforeunload"!==(e||Ye().event).type&&(q=!0,b.setUnloading(q)),l(2,2)}e.getWParam=function(){var e=0;return T.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()},0<T.eventsLimitInMem&&(L=T.eventsLimitInMem),0<T.immediateEventLimit&&(P=T.immediateEventLimit),0<T.autoFlushEventsLimit&&(E=T.autoFlushEventsLimit),C(),T.httpXHROverride&&T.httpXHROverride.sendPOST&&(I=T.httpXHROverride),zn(a.anonCookieName)&&b.addQueryStringParameter("anoncknm",a.anonCookieName),b.sendHook=T.payloadPreprocessor,b.sendListener=T.payloadListener,e=T.overrideEndpointUrl||a.endpointUrl,c._notificationManager=a.extensionConfig.NotificationManager,b.initialize(e,c.core,c,I,T),xn(r,e=a.disablePageUnloadEvents||[]),Sn(r,e),function i(n,e){var t=!1;return e&&-1!==me(e,bn)||(t=En(bn,n)),!(t=(!e||-1===me(e,Tn))&&En(Tn,function(e){var t=Ze();n&&t&&"visible"===t.visibilityState&&n(e)})||t)&&e?i(n):t}(function(e){q=!1,b.setUnloading(q)},a.disablePageShowEvents),c.setInitialized(!0)},function(){return{coreConfig:a,core:o,extensions:s}})},c.processTelemetry=function(e,t){Yn(e,c.identifier);var n=(t=c._getTelCtx(t)).getExtCfg(c.identifier),r=!!T.disableTelemetry,e=e;(r=n?r||!!n.disableTelemetry:r)||_||(T[Es]&&(e.iKey=T[Es]),n&&n[Es]&&(e.iKey=n[Es]),i(e,!0),q?l(2,2):o()),c.processNext(e,t)},c.setEventQueueLimits=function(e,t){L=0<e?e:1e4,E=0<t?t:0,C();var n=e<D;if(!n&&0<x)for(var r=1;!n&&r<=3;r++){var i=F[r];i&&i.batches&&he(i.batches,function(e){e&&e.count()>=x&&(n=!0)})}d(!0,n)},c.teardown=function(){l(2,2),_=!0,b.teardown()},c.pause=function(){r(),w=!0,b.pause()},c.resume=function(){w=!1,b.resume(),o()},c.addResponseHandler=function(e){b._responseHandlers.push(e)},c._loadTransmitProfiles=function(e){r(),t(),n=Zo,o(),oe(e,function(e,t){var n,r=t.length;2<=r&&(n=2<r?t[2]:0,t.splice(0,r-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(r=t[0]/t[1],t[0]=Math.ceil(r)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),R[e]=t)})},c.flush=function(e,t,n){void 0===e&&(e=!0),w||(r(),n=n||1,e?(h(1,0,n),g(),null==N?N=s(function(){!function r(e,t){a(1,0,t),function n(e){b.isCompletelyIdle()?e():N=s(function(){n(e)},.25)}(function(){e&&e(),0<A.length?N=s(function(){return r(A.shift(),t)},0):(N=null,0<D&&o())})}(t,n)},0):A.push(t)):(a(1,1,n),null!==t&&t!==undefined&&t()))},c.setMsaAuthTicket=function(e){b.addHeader("AuthMsaDeviceTicket",e)},c.hasEvents=function(){return 0<D},c._setTransmitProfile=function(e){n!==e&&R[e]!==undefined&&(r(),n=e,o())},c._backOffTransmission=function(){V<4&&(V++,r(),o())},c._clearBackOff=function(){V&&(V=0,r(),o())}}),e}var Ss=(p(xs,Cs=At),xs);function _s(){}var As=(_s.prototype._setCommonProperties=function(e,t){zn(t.cV)&&(e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV=t.cV),e.baseData.operationName=t.operationName,e.baseData.latencyMs=t.latencyMs,e.baseData.serviceErrorCode=t.serviceErrorCode||-1,e.baseData.succeeded=t.succeeded,e.baseData.requestStatus=t.requestStatus,e.baseData.requestMethod=t.requestMethod,zn(t.target)&&(e.baseData.target=t.target),zn(t.responseContentType)&&(e.baseData.responseContentType=t.responseContentType),zn(t.protocol)&&(e.baseData.protocol=t.protocol),zn(t.protocolStatusCode)&&(e.baseData.protocolStatusCode=t.protocolStatusCode)},_s);function Ns(){this._qosEvent=new As}var ws=(Ns.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),e.baseData.dependencyOperationName=t.dependencyOperationName,e.baseData.dependencyName=t.dependencyName,e.baseData.dependencyType=t.dependencyType||"WebService",zn(t.dependencyOperationVersion)&&(e.baseData.dependencyOperationVersion=t.dependencyOperationVersion),zn(t.responseSizeBytes)&&(e.baseData.responseSizeBytes=t.responseSizeBytes)},Ns);function ks(){this._qosEvent=new As}var Ps=(ks.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),zn(t.callerIpAddress)&&(e.baseData.callerIpAddress=t.callerIpAddress),zn(t.callerName)&&(e.baseData.callerName=t.callerName),zn(t.requestSizeBytes)&&(e.baseData.requestSizeBytes=t.requestSizeBytes),zn(t.operationVersion)&&(e.baseData.operationVersion=t.operationVersion)},ks);function Ds(n){oe(n,function(e,t){zn(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Ls(e,t,n){var r,i;return(r=e)&&r[n]&&(i=r[n],delete r[n]),e=i,t[n]||e}function Rs(e,t){var n={},r=Ze();if(r)for(var i=r.querySelectorAll("meta"),a=0;a<i.length;a++){var o=i[a];o.name&&(o.name.toLowerCase().indexOf(e)||(n[t?o.name.replace(e,""):o.name]=o.content))}return n}var Ms="properties";function Os(e,t,n){t=e[t],e=e[n];return t&&e?Lr(t,e):0}function Vs(e,t,n,r,i){return(i=Os(n,r,i))?Us(e,t,dr(i)):0}function Us(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}var Fs=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},Hs=function fu(e,t,n){var r=this,i=n,y="responseText";r.perfMark=null,r.completed=!1,r.requestHeadersSize=null,r.requestHeaders=null,r.responseReceivingDuration=null,r.callbackDuration=null,r.ajaxTotalDuration=null,r.aborted=0,r.pageUrl=null,r.requestUrl=null,r.requestSize=0,r.method=null,r.status=null,r.requestSentTime=null,r.responseStartedTime=null,r.responseFinishedTime=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new Fs,r.clientFailure=0,r.traceID=e,r.spanID=t,j(fu,r,function(v){v.getAbsoluteUrl=function(){return v.requestUrl?(e=Nr(v.requestUrl))?e.href:void 0:null;var e},v.getPathName=function(){return v.requestUrl?ar(i,(e=v.method,t=v.requestUrl,e?e.toUpperCase()+" "+t:t)):null;var e,t},v.CreateTrackItem=function(e,t,n){return v.ajaxTotalDuration=Math.round(1e3*Lr(v.requestSentTime,v.responseFinishedTime))/1e3,v.ajaxTotalDuration<0?null:((e={id:"|"+v.traceID+"."+v.spanID,target:v.getAbsoluteUrl(),name:v.getPathName(),type:e,startTime:null,duration:v.ajaxTotalDuration,success:200<=+v.status&&+v.status<400,responseCode:+v.status,method:v.method})[Ms]={HttpMethod:v.method},v.requestSentTime&&(e.startTime=new Date,e.startTime.setTime(v.requestSentTime)),i=e,o=(r=v).perfTiming,s=i[Ms]||{},c=0,u="startTime",l="connect"+"End",p="request"+"Start",d="response"+"End",f="transferSize",g="encodedBodySize",h="decodedBodySize",m="serverTiming",o?(c|=Vs(s,"End",o,"redirectStart","End"),c|=Vs(s,"domainLookup",o,"domainLookupStart","domainLookupEnd"),c|=Vs(s,"connect",o,"connectStart",l),c|=Vs(s,"request",o,p,"requestEnd"),c|=Vs(s,"response",o,"responseStart",d),c|=Vs(s,"networkConnect",o,u,l),c|=Vs(s,"sentRequest",o,p,d),c|=Us(s,"duration",d=o.duration||Os(o,u,d)||0),c|=Us(s,"perfTotal",d),(d=o[m])&&(a={},he(d,function(e,t){var n,r,t=(n=e.name||""+t,(r=/([^\w\d_$])/g).test(t=n)?n.replace(r,"_"):t),i=a[t]||{};oe(e,function(e,t){("name"!==e&&pe(t)||de(t))&&(!(t=i[e]?i[e]+";"+t:t)&&pe(t)||(i[e]=t))}),a[t]=i}),c|=Us(s,m,a)),c|=Us(s,f,o[f]),c|=Us(s,g,o[g]),c|=Us(s,h,o[h])):r.perfMark&&(c|=Us(s,"missing",r.perfAttempts)),c&&(i[Ms]=s),t&&0<Ie(v.requestHeaders).length&&(e[Ms]=e[Ms]||{},e[Ms].requestHeaders=v.requestHeaders),!n||(t=n())&&((n=t.correlationContext)&&(e.correlationContext=n),t.headerMap&&0<Ie(t.headerMap).length&&(e[Ms]=e[Ms]||{},e[Ms].responseHeaders=t.headerMap),v.errorStatusText&&400<=v.status&&(n=t.type,e[Ms]=e[Ms]||{},""!==n&&"text"!==n||(e[Ms][y]=t[y]?t.statusText+" - "+t[y]:t.statusText),"json"===n&&(e[Ms][y]=t.response?t.statusText+" - "+JSON.stringify(t.response):t.statusText))),e);var r,i,a,o,s,c,u,l,p,d,f,g,h,m}})},Bs=(qs.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},qs.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},qs.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},qs.DEFAULT_TRACE_FLAG="01",qs.DEFAULT_VERSION="00",qs);function qs(e,t){var n=this;n.traceFlag=qs.DEFAULT_TRACE_FLAG,n.version=qs.DEFAULT_VERSION,e&&qs.isValidTraceId(e)?n.traceId=e:n.traceId=Nn(),t&&qs.isValidSpanId(t)?n.spanId=t:n.spanId=Nn().substr(0,16)}var Ws="ai.ajxmn.",zs="diagLog",js="ajaxData",Ks="throwInternal",Gs="fetch",Xs=0;function Qs(e){var t=!1;lt()&&(t=!(ee(i=XMLHttpRequest[V])||ee(i.open)||ee(i.send)||ee(i.abort)));var n,r,i=ce(n=((n=(n=void 0===n?null:n)?n:(r=et()||{})?(r.userAgent||"").toLowerCase():"")||"").toLowerCase(),Be)?parseInt(n.split(Be)[1]):ce(n,qe)&&(n=parseInt(n.split(qe)[1]))?n+4:null;if(t=!(i&&i<9)&&t)try{(new XMLHttpRequest)[js]={};var a=XMLHttpRequest[V].open;XMLHttpRequest[V].open=a}catch(o){t=!1,Ys(e,K.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:st(o)})}return t}function Js(e){var t="";try{ee(e)||ee(e[js])||ee(e[js].requestUrl)||(t+="(url: '"+e[js].requestUrl+"')")}catch(n){}return t}function Ys(e,t,n,r,i){e[zs]()[Ks](W.CRITICAL,t,n,r,i)}function Zs(e,t,n,r,i){e[zs]()[Ks](W.WARNING,t,n,r,i)}function $s(t,n,r){return function(e){Ys(t,n,r,{ajaxDiagnosticsMessage:Js(e.inst),exception:st(e.err)})}}function ec(e,t){return e&&t?e.indexOf(t):-1}var tc,nc=(p(rc,tc=At),rc.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:undefined,disableCorrelationHeaders:!1,distributedTracingMode:gr.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:undefined,correlationHeaderExcludePatterns:undefined,appId:undefined,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:undefined}},rc.getEmptyConfig=function(){var t=this.getDefaultConfig();return oe(t,function(e){t[e]=undefined}),t},rc.prototype.processTelemetry=function(e,t){this.processNext(e,t)},rc.identifier="AjaxDependencyPlugin",rc);function rc(){var e=tc.call(this)||this;e.identifier=rc.identifier,e.priority=120;var I,b,E,x,S,_,A,N="trackDependencyDataInternal",t=tt(),w=!1,k=!1,c=t&&t.host&&t.host.toLowerCase(),P=rc.getEmptyConfig(),D=!1,r=0,L=!1,R=0,M=!1,O=[],s={};return j(rc,e,function(u,l){function p(t){var n=!0;return(t||P.ignoreHeaders)&&he(P.ignoreHeaders,function(e){if(e.toLowerCase()==t.toLowerCase())return n=!1,-1}),n}function d(e,t,n){O.push(e?On(e[V],t,n,!1):null)}function f(e,t,n){var r=!1,i=((pe(t)?t:(t||{}).url||"")||"").toLowerCase();if(he(S,function(e){var t=e;pe(e)&&(t=RegExp(e)),r=r||t.test(i)}),r)return r;var a=ec(i,"?"),o=ec(i,"#");return-1!==(a=-1===a||-1!==o&&o<a?o:a)&&(i=i.substring(0,a)),ee(e)?ee(t)||(r="object"==typeof t&&!0===t[hr]||!!n&&!0===n[hr]):r=!0===e[hr]||!0===i[hr],(r=!(r||!i||(e=i,!~kr.indexOf(e.toLowerCase())))||r)?s[i]||(s[i]=1):s[i]&&(r=!0),r}function g(e,t){var n=!0,r=k;return ee(e)||(n=!0===t||!ee(e[js])),r&&n}function h(n){n[js].xhrMonitoringState.stateChangeAttached=ae(n,"readystatechange",function(){try{n&&4===n.readyState&&g(n)&&((a=(i=n)[js]).responseFinishedTime=Dr(),a.status=i.status,v("xmlhttprequest",a,function(){try{var e=a.CreateTrackItem("Ajax",D,function(){var e,n,t={statusText:i.statusText,headerMap:null,correlationContext:o(i),type:i.responseType,responseText:function(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}(i),response:i.response};return!M||(e=i.getAllResponseHeaders())&&(e=ye(e).split(/[\r\n]+/),n={},he(e,function(e){var e=(t=e.split(": ")).shift(),t=t.join(": ");p(e)&&(n[e]=t)}),t.headerMap=n),t}),t=void 0;try{_&&(t=_({status:i.status,xhr:i}))}catch(n){Zs(u,K.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}e?(t!==undefined&&(e.properties=F(F({},e.properties),t)),u[N](e)):r(null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}finally{try{i[js]=null}catch(n){}}},function(e){r(e,null)}))}catch(t){var e=st(t);e&&-1!==ec(e.toLowerCase(),"c00c023f")||Ys(u,K.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Js(n),exception:e})}function r(e,t){(t=t||{}).ajaxDiagnosticsMessage=Js(i),e&&(t.exception=st(e)),Zs(u,K.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",t)}var i,a})}function o(e){try{var t=e.getAllResponseHeaders();if(null!==t&&-1!==ec(t.toLowerCase(),"request-context")){var n=e.getResponseHeader("Request-Context");return Pr.getCorrelationContext(n)}}catch(r){Zs(u,K.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Js(e),exception:st(r)})}}function m(e,t){var n;t.requestUrl&&x&&L&&(n=nt())&&ie(n.mark)&&(e=x+e+"#"+ ++Xs,n.mark(e),(n=n.getEntriesByName(e))&&1===n.length&&(t.perfMark=n[0]))}function v(a,o,s,c){var u=o.perfMark,l=nt(),p=P.maxAjaxPerfLookupAttempts,d=P.ajaxPerfLookupDelay,f=o.requestUrl,g=0;!function h(){try{if(l&&u){g++;for(var e=null,t=l.getEntries(),n=t.length-1;0<=n;n--){var r=t[n];if(r){if("resource"===r.entryType)r.initiatorType!==a||-1===ec(r.name,f)&&-1===ec(f,r.name)||(e=r);else if("mark"===r.entryType&&r.name===u.name){o.perfTiming=e;break}if(r.startTime<u.startTime-1e3)break}}}!u||o.perfTiming||p<=g||!1===o["async"]?(u&&ie(l.clearMarks)&&l.clearMarks(u.name),o.perfAttempts=g,s()):setTimeout(h,d)}catch(i){c(i)}}()}function y(e){var t="";try{ee(e)||(t+="string"==typeof e?"(url: '"+e+"')":"(url: '"+e.url+"')")}catch(n){Ys(u,K.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:st(n)})}return t}function C(e,r,i,a,o,s){function c(e,t,n){(n=n||{}).fetchDiagnosticsMessage=y(i),t&&(n.exception=st(t)),Zs(u,e,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",n)}o&&(o.responseFinishedTime=Dr(),o.status=r,v("fetch",o,function(){var e,t=o.CreateTrackItem("Fetch",D,s);try{_&&(e=_({status:r,request:i,response:a}))}catch(n){Zs(u,K.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}t?(e!==undefined&&(t.properties=F(F({},t.properties),e)),u[N](t)):c(K.FailedMonitorAjaxDur,null,{requestSentTime:o.requestSentTime,responseFinishedTime:o.responseFinishedTime})},function(e){c(K.FailedMonitorAjaxGetCorrelationHeader,e,null)}))}function T(e){if(e&&e.headers)try{var t=e.headers.get("Request-Context");return Pr.getCorrelationContext(t)}catch(n){Zs(u,K.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:y(e),exception:st(n)})}}u.initialize=function(e,t,n,r){if(!u.isInitialized()){l.initialize(e,t,n,r);var i=u._getTelCtx();if(oe(rc.getDefaultConfig(),function(e,t){P[e]=i.getConfig(rc.identifier,e,t)}),r=P.distributedTracingMode,D=P.enableRequestHeaderTracking,A=P.enableAjaxErrorStatusText,L=P.enableAjaxPerfTracking,R=P.maxAjaxCallsPerView,M=P.enableResponseHeaderTracking,S=P.excludeRequestFromAutoTrackingPatterns,_=P.addRequestContext,E=r===gr.AI||r===gr.AI_AND_W3C,b=r===gr.AI_AND_W3C||r===gr.W3C,L&&(s=e.instrumentationKey||"unkwn",x=5<s.length?Ws+s.substring(s.length-5)+".":Ws+s+"."),!1===P.disableAjaxTracking&&Qs(u)&&!k&&(d(XMLHttpRequest,"open",{req:function(e,t,n,r){var i,a=e.inst,o=a[js];!f(a,n)&&g(a,!0)&&(o&&o.xhrMonitoringState.openDone||(i=a,e=t,o=n,t=r,n=I&&I.telemetryTrace&&I.telemetryTrace.traceID||Nn(),r=Nn().substr(0,16),(r=new Hs(n,r,u[zs]())).method=e,r.requestUrl=o,r.xhrMonitoringState.openDone=!0,r.requestHeaders={},r["async"]=t,r.errorStatusText=A,i[js]=r),h(a))},hkErr:$s(u,K.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"send",{req:function(e,t){var n=e.inst,e=n[js];g(n)&&!e.xhrMonitoringState.sendDone&&(m("xhr",e),e.requestSentTime=Dr(),u.includeCorrelationHeaders(e,undefined,undefined,n),e.xhrMonitoringState.sendDone=!0)},hkErr:$s(u,K.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,e=t[js];g(t)&&!e.xhrMonitoringState.abortDone&&(e.aborted=1,e.xhrMonitoringState.abortDone=!0)},hkErr:$s(u,K.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),D&&d(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){g(e=e.inst)&&p(t)&&(e[js].requestHeaders[t]=n)},hkErr:$s(u,K.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),k=!0),(e=!(r=U())||ee(r.Request)||ee(r.Request[V])||ee(r[Gs])?null:r[Gs])&&(s=U(),c=e.polyfill,!1===P.disableFetchTracking?(O.push(On(s,Gs,{req:function(e,t,n){var r,i;!w||f(null,t,n)||c&&k||(r=e.ctx(),i=function(e,t){var n=I&&I.telemetryTrace&&I.telemetryTrace.traceID||Nn(),r=Nn().substr(0,16);(n=new Hs(n,r,u[zs]())).requestSentTime=Dr(),n.errorStatusText=A,e instanceof Request?n.requestUrl=e?e.url:"":n.requestUrl=e,r="GET",t&&t.method?r=t.method:e&&e instanceof Request&&(r=e.method),n.method=r;var i={};return D&&new Headers((t?t.headers:0)||e instanceof Request&&e.headers||{}).forEach(function(e,t){p(t)&&(i[t]=e)}),n.requestHeaders=i,m("fetch",n),n}(t,n),(t=u.includeCorrelationHeaders(i,t,n))!==n&&e.set(1,t),r.data=i)},rsp:function(e,n){var r=e.ctx().data;r&&(e.rslt=e.rslt.then(function(t){return C(0,(t||{}).status,n,t,r,function(){var n,e={statusText:t.statusText,headerMap:null,correlationContext:T(t)};return M&&(n={},t.headers.forEach(function(e,t){p(t)&&(n[t]=e)}),e.headerMap=n),e}),t})["catch"](function(e){throw C(0,0,n,null,r,null,e.message),e}))},hkErr:$s(u,K.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),w=!0):c&&O.push(On(s,Gs,{req:function(e,t,n){f(null,t,n)}})),c&&(s[Gs].polyfill=c)),0<n.length&&n){for(var a=void 0,o=0;!a&&o<n.length;)n[o]&&n[o].identifier===Li&&(a=n[o]),o++;a&&(I=a.context)}}var s,c},u.teardown=function(){he(O,function(e){e.rm()}),k=w=!(O=[]),u.setInitialized(!1)},u.trackDependencyData=function(e,t){u[N](e,t)},u.includeCorrelationHeaders=function(e,t,n,r){var i,a,o,s=u._currentWindowHost||c;return t?(Pr.canIncludeCorrelationHeader(P,e.getAbsoluteUrl(),s)&&((n=n||{}).headers=new Headers(n.headers||t instanceof Request&&t.headers||{}),E&&(i="|"+e.traceID+"."+e.spanID,n.headers.set("Request-Id",i),D&&(e.requestHeaders["Request-Id"]=i)),(a=P.appId||I&&I.appId())&&(n.headers.set("Request-Context","appId=cid-v1:"+a),D&&(e.requestHeaders["Request-Context"]="appId=cid-v1:"+a)),b&&(o=new Bs(e.traceID,e.spanID),n.headers.set("traceparent",o.toString()),D&&(e.requestHeaders.traceparent=o.toString()))),n):r?(Pr.canIncludeCorrelationHeader(P,e.getAbsoluteUrl(),s)&&(E&&(i="|"+e.traceID+"."+e.spanID,r.setRequestHeader("Request-Id",i),D&&(e.requestHeaders["Request-Id"]=i)),(a=P.appId||I&&I.appId())&&(r.setRequestHeader("Request-Context","appId=cid-v1:"+a),D&&(e.requestHeaders["Request-Context"]="appId=cid-v1:"+a)),b&&(o=new Bs(e.traceID,e.spanID),r.setRequestHeader("traceparent",o.toString()),D&&(e.requestHeaders.traceparent=o.toString()))),r):undefined},u[N]=function(e,t,n){-1===R||r<R?(P.distributedTracingMode!==gr.W3C&&P.distributedTracingMode!==gr.AI_AND_W3C||"string"!=typeof e.id||"."===e.id[e.id.length-1]||(e.id+="."),ee(e.startTime)&&(e.startTime=new Date),n=Pi.create(e,Ti.dataType,Ti.envelopeType,u[zs](),t,n),u.core.track(n)):r===R&&Ys(u,K.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++r}}),e}function ic(){this.lastPageViewId=Xn(),this.traceId=this.createTraceId()}var ac,oc=(ic.prototype.createTraceId=function(){return Xn().replace(/-/g,"")},ic.prototype.getTraceId=function(){return this.traceId},ic.prototype.getLastPageViewId=function(){return this.lastPageViewId},ic),sc="distributedTracingMode";function cc(){var g,e=ac.call(this)||this;e.identifier="QosPlugin",e.version="3.1.9";var h={market:"",serverImpressionGuid:""},m={},a=new ws,o=new Ps;return j(cc,e,function(d,f){function r(e,t){i(e,t),d.core.track(e)}function i(n,e){zn(e)&&oe(e,function(e,t){n.data[e]=t})}d.includeCorrelationHeaders=function(e,t,n,r){var i=f.includeCorrelationHeaders(e,t,n,r);return!m.enableCvHeaders||(e=d.getCv())&&(t||r)&&(e.increment(),e=e.getValue(),t?((i=i||n||{}).headers&&ie(i.headers.append)||(i.headers=new Headers(i.headers||t instanceof Request&&t.headers||{})),i.headers.append("MS-CV",e)):i.setRequestHeader("MS-CV",e)),i},d.initialize=function(e,t,n){var r,i,a,o,s,c=e.extensionConfig=e.extensionConfig||[];c[d.identifier]=c[d.identifier]||{},$((m=d._qosConfig=(r=c[d.identifier],o={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:undefined,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},s=[],oe(o,function(e,t){t&&re(t)&&s.push(e)}),a=s,Ds(i=r),he(a,function(e){re(i[e])?Ds(i[e]):delete i[e]}),Qn(!0,o,r)))[sc])&&(m[sc]=0),c[nc.identifier]=m,f.initialize(e,t,n),e=d._qosConfig,t={},t=Qn(!0,Rs("awa-",!0),t=e.autoCapture&&e.autoCapture.msTags?Rs("ms.",!1):t),h.market=Ls(t,m.coreData,"market"),h.serverImpressionGuid=Ls(t,m.coreData,"serverImpressionGuid");for(var u=null,l=null,p=0;p<n.length;p++)"CorrelationVectorPlugin"===n[p].identifier?u=n[p]:"WebAnalyticsPlugin"===n[p].identifier&&(l=n[p]);l&&l.id?d.id=l.id:d.id=new oc,m.enableCvHeaders&&(u?(m.enableCvHeaders=!0,g=u):(d.diagLog().throwInternal(W.WARNING,Vn.CVPluginNotAvailable,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),m.enableCvHeaders=!1))},d.processTelemetry=function(e,t){Yn(e,d.identifier),e.baseType===Ti.dataType&&("Ms.Qos.OutgoingServiceRequest"!==e.name&&(e.name="Ms.Web.OutgoingRequest",e.baseData=e.baseData||{},e.baseData.properties=e.baseData.properties||{},e.baseData.properties.parentId=e.baseData.properties.parentId||d.id.getLastPageViewId(),delete e.baseData.method),e.latency=1),d.processNext(e,t)},d.trackDependencyData=function(e,t){d.trackDependencyDataInternal(e,t)},d.trackDependencyDataInternal=function(e,t,n){var r,i=n||{};zn(e.cV)&&(i.mscv={},i.mscv.cV=e.cV),e.id=m.callback&&m.callback.id?m.callback.id():Xn(),(t=t||{}).pageName=zn(t.pageName)?t.pageName:(r=d._qosConfig).callback&&"function"==typeof r.callback.pageName?r.callback.pageName():r.coreData.pageName||(2<(r=((tt()||{}).pathname||"").split("/")).length&&""!==r[2]?r[2]:"Home"),t.uri=zn(t.uri)?t.uri:(r=d._qosConfig,n=tt()||{},r.coreData.requestUri||n.href),t.market=(zn(t.market)?t:h).market,t.serverImpressionGuid=(zn(t.serverImpressionGuid)?t:h).serverImpressionGuid,f.trackDependencyDataInternal(e,t,i)},d.trackServiceOutgoingQos=function(e,t){var n={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:3};a._setQosProperties(n,e),i(n,t),r(n)},d.trackServiceIncomingQos=function(e,t){var n={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:3};o._setQosProperties(n,e),i(n,t),r(n)},d.getCv=function(){return g?g.getCv():null}}),e}var uc,lc=(p(cc,ac=nc),cc),pc=function(){},dc=(fc.prototype.isInit=function(){return this.isValid(this.storedCv())},fc.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},fc.prototype.getValue=function(){var e=this.storedCv();if(this.isValid(e))return e},fc.prototype.getRelatedCv=function(){return this._relatedCv},fc.prototype.incrementExternal=function(e){if(this.isValid(e)){var t=e.split("."),n=t.length;t[n-1]=""+(parseInt(t[n-1],10)+1);for(var r="",i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");if(e=(t[0].length===this._cv2Constants.baseLength?this._cv2Constants:this._cv1Constants).maxCorrelationVectorLength,r.length<=e)return r}},fc.prototype.canExtend=function(){var e=this.storedCv();return!!this.isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},fc.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},fc.prototype.setValue=function(e){if(this.isValid(e)){var t=e.lastIndexOf(".");return 1<t?(this._base=e.substr(0,t),this._currentElement=parseInt(e.substr(1+t),10)):(this._base=e,this._currentElement=0),!0}return this._traceLogger.throwInternal(W.WARNING,Vn.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1},fc.prototype.setValueLegacy=function(e){return this.setValue(e),this.getValue()},fc.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet[0|Math.floor(Math.random()*this._base64CharSet.length)]||"";return e},fc.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},fc.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},fc.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},fc.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},fc.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},fc.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},fc.prototype.isValid=function(e){if(e){var t=e.split(".")[0];if(t)return 16===t.length?(this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e)):22===t.length?(this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)):void 0}},fc.prototype.init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0),this.getValue()},fc.prototype.initLegacy=function(e){return this.init(e)},fc.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},fc);function fc(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new pc,this._cv2Constants=new pc,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=ht(t),this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this.init(e)}function gc(e){var t=uc.call(this)||this;return t.identifier="CorrelationVectorPlugin",t.priority=159,t.version="3.1.9",t._cvInitialValue=e,t._cv=t._cvInitialValue?new dc(t._cvInitialValue):new dc,t}var hc=(p(gc,uc=At),gc.prototype.initialize=function(e,t,n){uc.prototype.initialize.call(this,e,t,n)},gc.prototype.processTelemetry=function(e,t){Yn(e,this.identifier),e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this.processNext(e,t)},gc.prototype.getCv=function(){return this._cv||this.diagLog().throwInternal(W.WARNING,Vn.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},gc);function mc(e){try{return e.responseText}catch(t){}return""}var vc=(yc.prototype.makeRequest=function(e,t,n,r){var i,a,o,s=this;ut()?((a=new XDomainRequest).open(n,e),a.onload=function(){r(200,mc(a),{})},a.onerror=function(){r(400,mc(a),{})},a.ontimeout=function(){r(500,mc(a),{})},a.onprogress=function(){},setTimeout(function(){a.send(t)},0)):at()?fetch(e,((i={body:t,method:n,credentials:"include"})[hr]=!0,i)).then(function(e){var n={};e.headers&&e.headers.forEach(function(e,t){n[t]=e}),r(e.status,JSON.stringify(e.json()),n)})["catch"](function(e){r(0,e,{})}):lt()&&((o=Zn(n,e,!0,!0)).onload=function(){r(o.status,mc(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.onerror=function(){r(o.status,mc(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.ontimeout=function(){r(o.status,mc(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.send(t))},yc.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split("\n"),r=0;r<n.length;++r){var i=n[r].split(": ");t[i[0]]=i[1]}return t},yc);function yc(){}var Cc=(Tc.prototype.setAuthType=function(e){var t="";switch(e){case 2:t="aad.js";break;case 1:t="msa.js"}this._getLoginUrlPath=this._endpointUrl+"auth/GetLoginUrl/"+t,this._signOutPath=this._endpointUrl+"auth/SignOut/"+t},Tc.prototype.startAuthHandshake=function(){var c=this;this._requestHandler.makeRequest(this._getLoginUrlPath,"","GET",function(e,t,n){try{var r,i,a=JSON.parse(t).webResult.authLoginUrl,o=Ze();o&&(r=o.createElement("iframe"),i=Math.floor(1e4*Math.random()),r.id="telframe"+i,r.style.display="none",r.src=a,o.body.appendChild(r),c._loginIframeId=r.id)}catch(s){c._logger.throwInternal(W.CRITICAL,Vn.AuthHandShakeError,"Error with auth handshake process: "+s)}})},Tc.prototype.cleanAuthIFrame=function(){var e,t=Ze();!t||(e=t.getElementById(this._loginIframeId))&&t.body.removeChild(e)},Tc.prototype.signOutAndClearCookies=function(){this._requestHandler.makeRequest(this._signOutPath,"","POST",function(e,t,n){})},Tc);function Tc(e,t,n){this._endpointUrl="",this._logger=n,this._endpointUrl=e,this._requestHandler=new vc,this.setAuthType(t)}var Ic,bc="authBounced",Ec=(p(xc,Ic=At),xc.prototype.initialize=function(e,t,n){var r=this;r._core=t,Ic.prototype.initialize.call(this,e,t,n),r._getTelCtx(),n=r.identifier,r._authConfig=e.extensionConfig[n]||{},e.extensionConfig[n]=r._authConfig,r._handshakeInProgress=!1,r._authHandhshakeTimeoutMs=r._authConfig.handShakeTimeoutMs||5e3;var i=r._authConfig.overrideAuthEndpointUrl||e.endpointUrl;function a(){r._releaseEventQueue()}r._authHandler=new Cc(i,r._authConfig.authType,r.diagLog()),r._updateWParam(),xn(a,e=e.disablePageUnloadEvents||[]),Sn(a,e),(e=Ye())&&ae(e,"message",function(e){r._receiveMessage(e,i)})},xc.prototype.processTelemetry=function(e,t){var n,r=this;t=this._getTelCtx(t),Yn(e,this.identifier),0!==this._authConfig.authType&&this._authConfig.loggedInStatusCallback&&!0===this._authConfig.loggedInStatusCallback()&&(Gn(n=en(this.core),bc)||(n.set(bc,ge(new Date),1800),this._handshakeInProgress=!0,this._authHandhshakeTimeout=setTimeout(function(){r._completeAuthHandshake()},this._authHandhshakeTimeoutMs),this._authHandler.startAuthHandshake())),this._handshakeInProgress?this._eventQueue.push({ctx:t,item:e}):this.processNext(e,t)},xc.prototype.signOut=function(){en(this.core).del(bc),this._authHandler.signOutAndClearCookies(),this._completeAuthHandshake()},xc.prototype.setAuthType=function(e){this._completeAuthHandshake(),this._authConfig.authType=e,this._authHandler.setAuthType(e),this._updateWParam()},xc.prototype._updateWParam=function(){var e,t,n=this;0!=this._authConfig.authType&&(e=this._core,t=e.getWParam,e.getWParam=function(){var e=0;return(e=1===n._authConfig.authType?8|e:16|e)|(t?t():0)})},xc.prototype._receiveMessage=function(e,t){var n=Ze();if(n&&((n=n.createElement("a")).href=t,n=n.protocol+"//"+n.hostname,(e.origin===n||"https://login.microsoftonline.com"===e.origin)&&e.data))try{this._completeAuthHandshake()}catch(r){this.diagLog().throwInternal(W.CRITICAL,Vn.AuthRedirectFail,"Error receiving auth redirect message: "+r)}},xc.prototype._completeAuthHandshake=function(){this._authHandhshakeTimeout&&clearTimeout(this._authHandhshakeTimeout),this._authHandler&&this._authHandler.cleanAuthIFrame(),this._handshakeInProgress=!1,this._releaseEventQueue()},xc.prototype._releaseEventQueue=function(){he(this._eventQueue,function(e){e.ctx.processNext(e.item)}),this._eventQueue=[]},xc);function xc(){var e=null!==Ic&&Ic.apply(this,arguments)||this;return e.identifier="AuthPlugin",e.priority=190,e.version="3.1.9",e._eventQueue=[],e}function Sc(e,t){this._config=e,this.core=t,this.isEnabled=!1,this.isSyncDone=!1,this.isEnabled=this._config&&(!0===this._config.adobe||!0===this._config.google),this._cookieMgr=en(t)}var _c,Ac=(Sc.prototype.idSync=function(e){try{var t,n,r,i;!this.isEnabled||this.isSyncDone||!e||zn((t=JSON.parse(e)).webResult)&&(!0===this._config.adobe&&(a=this._cookieMgr,n=(o=t.webResult)&&zn(o.anid)?o.anid:Gn(a,"ANON").slice(0,34),(zn(t.webResult.mc1)||zn(n))&&(i=this._getAdobeUrl(t.webResult.mc1,n),lt()&&((r=new XMLHttpRequest).open("GET",i,!0),r.setRequestHeader("Accept","application/json; charset=utf-8"),r.send()))),!0===this._config.google&&zn(t.webResult.mc1)&&(i=this._getGoogleUrl(t.webResult.mc1),(new Image).src=i),this.isSyncDone=!0)}catch(s){}var a,o},Sc.prototype._getAdobeUrl=function(e,t){var n="https://dpm.demdex.net/id?d_orgid=EA76ADE95776D2EC7F000101@AdobeOrg&d_cid=";return zn(e)&&(n+="88170%01"+e+"%010"),zn(t)&&(zn(e)&&(n+="%01"),n+="88169%01"+t+"%010"),n+"&d_ver=2"},Sc.prototype._getGoogleUrl=function(e){return"https://ad.doubleclick.net/ddm/activity/src=6952136;type=store0;cat=oneds;u58="+e+";match_id="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?"},Sc),Nc=(p(wc,_c=At),wc.prototype.initialize=function(e,t,n){var r=this,i=this.identifier,a=e.extensionConfig[i]||{};e.extensionConfig[i]=a;var o=null;if(e.channels)for(var s=0;s<e.channels.length;s++)if(e.channels[s])for(var c=0;c<e.channels[s].length;c++)if("PostChannel"===e.channels[s][c].identifier){o=e.channels[s][c];break}if(!o)for(s=0;s<n.length;s++)if("PostChannel"===n[s].identifier){o=n[s];break}o&&(this._ix=new Ac(a,t),o.addResponseHandler(function(e){r._ix.idSync(e)}))},wc.prototype.processTelemetry=function(e,t){this.processNext(e,t)},wc);function wc(){var e=null!==_c&&_c.apply(this,arguments)||this;return e.identifier="IdSyncPlugin",e.version="3.1.9",e}var kc,Pc=(p(Dc,kc=i),Dc.prototype.initialize=function(e,t){var n=this;if((n._config=e).extensions=e.extensions||[],e.extensions=e.extensions.concat([n._propertyManager,n._webAnalytics,n._qosPlugin,n._cvPlugin]),n._config.jsllConfiguration&&n._config.jsllConfiguration.shareAuthStatus&&(e.extensions=e.extensions.concat(n._authPlugin)),n._config.jsllConfiguration&&n._config.jsllConfiguration.ix&&(e.extensions=e.extensions.concat(n._idSyncPlugin)),t&&(e.extensions=e.extensions.concat(t)),e.channels&&0<e.channels.length){for(var r=!1,i=0;i<e.channels[0].length;i++)if(e.channels[0][i].identifier===n._postChannel.identifier){r=!0;break}r||e.channels[0].push(n._postChannel)}else e.channels=[[n._postChannel]];n.initializeConfigurations();try{kc.prototype.initialize.call(this,e,[]),n._config.jsllConfiguration&&(n._config.jsllConfiguration.coreData&&zn(n._config.jsllConfiguration.coreData.appId)&&(n._propertyManager.getPropertiesContext().app.id=n._config.jsllConfiguration.coreData.appId),zn(n._config.jsllConfiguration.logLevel)&&(n.logger.consoleLoggingLevel=function(){return n._config.jsllConfiguration.logLevel}))}catch(a){n.logger.throwInternal(W.CRITICAL,Vn.FailedToInitializeSDK,"Failed to initialize SDK."+a)}},Dc.prototype.getPropertyManager=function(){return this._propertyManager},Dc.prototype.getPropertyManagerConfig=function(){return(this._config.extensionConfig||[])[this._propertyManager.identifier]},Dc.prototype.getPostChannel=function(){return this._postChannel},Dc.prototype.getPostChannelConfig=function(){return(this._config.extensionConfig||[])[this._postChannel.identifier]},Dc.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},Dc.prototype.getWebAnalyticsExtensionConfig=function(){return(this._config.extensionConfig||[])[this._webAnalytics.identifier]},Dc.prototype.getQosExtension=function(){return this._qosPlugin},Dc.prototype.getQosExtensionConfig=function(){return(this._config.extensionConfig||[])[this._qosPlugin.identifier]},Dc.prototype.getAuthExtension=function(){return this._authPlugin},Dc.prototype.getAuthExtensionConfig=function(){return(this._config.extensionConfig||[])[this._authPlugin.identifier]},Dc.prototype.getCvExtension=function(){return this._cvPlugin},Dc.prototype.getIdSyncExtension=function(){return this._idSyncPlugin},Dc.prototype.getIdSyncExtensionConfig=function(){return(this._config.extensionConfig||[])[this._idSyncPlugin.identifier]},Dc.prototype.initializeConfigurations=function(){var e=this,t=e._config.extensionConfig=e._config.extensionConfig||[];t[e._qosPlugin.identifier]=e._config.qosConfiguration||{},t[e._postChannel.identifier]=e._config.channelConfiguration||{};var n=t[e._propertyManager.identifier]=e._config.propertyConfiguration||{},r=t[e._webAnalytics.identifier]=e._config.webAnalyticsConfiguration||{},i=t[e._qosPlugin.identifier]=e._config.qosConfiguration||{},a=t[e._idSyncPlugin.identifier]=e._config.idSyncConfiguration||{},o=t[e._authPlugin.identifier]=e._config.authConfiguration||{authType:0,loggedInStatusCallback:function(){return!1}};(t=e._config.jsllConfiguration)&&(e._config.endpointUrl=t.endpoint,i.disableAjaxTracking=!t.enableAjaxTracking,i.disableFetchTracking=!t.enableFetchTracking,t.autoCapture&&(r.autoCapture=r.autoCapture||{},r.autoCapture.click=t.autoCapture.click,r.autoCapture.jsError=t.autoCapture.jsError,r.autoCapture.lineage=t.autoCapture.lineage,r.autoCapture.onLoad=t.autoCapture.onLoad,r.autoCapture.onUnload=t.autoCapture.onUnload,r.autoCapture.pageView=t.autoCapture.pageView,r.autoCapture.resize=t.autoCapture.resize,r.autoCapture.scroll=t.autoCapture.scroll,r.autoCapture.msTags=t.autoCapture.msTags,i.autoCapture=i.autoCapture||{},i.autoCapture.msTags=t.autoCapture.msTags),t.ix&&(a.adobe=t.ix.a,a.google=t.ix.g),t.coreData&&(r.coreData=r.coreData||{},r.coreData.market=t.coreData.market,r.coreData.pageName=t.coreData.pageName,r.coreData.pageTags=t.coreData.pageTags,r.coreData.pageType=t.coreData.pageType,r.coreData.product=t.coreData.product,r.coreData.referrerUri=t.coreData.referrerUri,r.coreData.requestUri=t.coreData.requestUri,n.env=t.coreData.env,n.expId=t.coreData.expId,n.serviceName=t.coreData.serviceName),t.callback&&(r.callback=r.callback||{},r.callback.contentUpdatePageTags=t.callback.contentUpdatePageTags,r.callback.pageActionContentTags=t.callback.pageActionContentTags,r.callback.pageActionPageTags=t.callback.pageActionPageTags,r.callback.pageName=t.callback.pageName,r.callback.pageViewPageTags=t.callback.pageViewPageTags,r.callback.signedinStatus=t.callback.signedinStatus,o.loggedInStatusCallback=t.callback.signedinStatus,n.callback=n.callback||{},n.callback.userConsentDetails=t.callback.userConsentDetailsCallback),t.debounceMs&&(r.debounceMs=r.debounceMs||{},r.debounceMs.scroll=t.debounceMs.scroll,r.debounceMs.resize=t.debounceMs.resize),r.cookiesToCollect=t.cookiesToCollect,r.mscomCookies=t.mscomCookies,r.urlCollectHash=t.urlCollectHash,r.urlCollectQuery=t.urlCollectQuery,r.useDefaultContentName=t.useDefaultContentName,r.useShortNameForContentBlob=t.useShortNameForContentBlob,r.biBlobAttributeTag=t.biBlobAttributeTag,r.useShortNameForContentBlob=t.useShortNameForContentBlob,r.isLoggedIn=t.isLoggedIn,r.manualPageUnload=t.manualPageUnload,r.syncMuid=t.syncMuid,r.muidDomain=t.muidDomain,n.userConsentCookieName=t.userConsentCookieName,n.userConsented=t.userConsented,r.shareAuthStatus=t.shareAuthStatus,t.authMethod&&(o.authType=t.authMethod))},Dc);function Dc(){var e=kc.call(this)||this;return e._postChannel=new Ss,e._propertyManager=new Yo,e._webAnalytics=new qa,e._qosPlugin=new lc,e._cvPlugin=new hc,e._authPlugin=new Ec,e._idSyncPlugin=new Nc,e}function Lc(e){console&&console.warn(e+": Method not available in 1DS")}var Rc=(Mc.prototype.stringifyField=function(e,t){Lc("stringifyField")},Mc.prototype.getMuidHost=function(e){return Lc("getMuidHost"),""},Mc.prototype.isOfCorrectType=function(e,t){return Lc("isOfCorrectType"),!0},Mc.prototype.getOs=function(){return Lc("getOs"),""},Mc.prototype.getUserAgent=function(){return Lc("getUserAgent"),""},Mc.prototype.extractFieldFromObject=function(e,t){return Lc("extractFieldFromObject"),""},Mc.prototype.extend=function(e,t,n,r,i){Lc("extend")},Mc.prototype.isValueAssigned=function(e){Lc("isValueAssigned")},Mc.prototype.removeNonObjectsAndInvalidElements=function(e,t){Lc("removeNonObjectsAndInvalidElements")},Mc.prototype.dateToISOString=function(e){return Lc("dateToISOString"),""},Mc.prototype.getAppIdWithPrefix=function(e){return Lc("getAppIdWithPrefix"),""},Mc.prototype.removeInvalidElements=function(e){Lc("removeInvalidElements")},Mc.prototype.findClosestByAttribute=function(e,t){return Lc("findClosestByAttribute"),null},Mc.prototype.findClosestAnchor=function(e){return Lc("findClosestAnchor"),null},Mc.prototype.returnDomObjectIfjQuery=function(e){return Lc("returnDomObjectIfjQuery"),null},Mc.prototype.getPerformanceData=function(){Lc("getPerformanceData")},Mc.prototype.bracketIt=function(e){return Lc("bracketIt"),""},Mc.prototype.getPageLoadTime=function(){return Lc("getPageLoadTime"),-1},Mc.prototype.isElementTrulyVisible=function(e,t){return Lc("isElementTrulyVisible"),!1},Mc.prototype.addPageUnloadEventListener=function(e){return Lc("addPageUnloadEventListener"),!1},Mc.prototype.addEventHandler=function(e,t){return Lc("addEventHandler"),!1},Mc.prototype.attachEvent=function(e,t,n,r){return Lc("attachEvent"),!1},Mc);function Mc(){}var Oc=(Vc.prototype.capturePageView=function(e){var t=null;e&&(t={referrerUri:e.referrerUri,behavior:e.behavior,pageName:e.pageName,pageTags:e.pageTags,isAuto:e.isAuto}),this._sku.getWebAnalyticsExtension().capturePageView(t)},Vc.prototype.captureContentUpdate=function(e){var t=null;e&&(t={content:e.content,isDomComplete:e.isDomComplete,actionType:e.actionType,behavior:e.behavior,pageName:e.pageName,pageTags:e.pageTags,isAuto:e.isAuto}),this._sku.getWebAnalyticsExtension().captureContentUpdate(t)},Vc.prototype.capturePageAction=function(e,t){var n=null;t&&(n={refUri:t.referrerUri,actionType:t.actionType,targetUri:t.targetUri,content:t.content,contentTags:t.contentTags,behavior:t.behavior,pageName:t.pageName,pageTags:t.pageTags,isAuto:t.isAuto}),this._sku.getWebAnalyticsExtension().capturePageAction(e,n)},Vc.prototype.captureContentPageAction=function(e){this.capturePageAction(null,e)},Vc.prototype.captureClientError=function(e){var t={};t.exception=e.errorInfo,this._sku.getWebAnalyticsExtension().trackException(t)},Vc.prototype.captureQos=function(e){var t,n;e&&e.data&&e.data.baseData&&(t={id:"",duration:e.data.baseData.latencyMs,success:e.data.baseData.succeeded,responseCode:+(""+e.data.baseData.protocolStatusCode),type:e.data.baseData.dependencyType,target:e.data.baseData.targetUri},n={},oe(e.data.baseData,function(e,t){"latencyMs"!==e&&"succeeded"!==e&&"protocolStatusCode"!==e&&"dependencyType"!==e&&"targetUri"!==e&&(n[e]=t)}),oe(e.data,function(e,t){"baseData"!==e&&"baseType"!==e&&(n[e]=t)}),this._sku.getQosExtension().trackDependencyData(t,n))},Vc.prototype.getUri=function(e){return oa(this._sku.getWebAnalyticsExtensionConfig(),e)},Vc.prototype.getPageContent=function(e){return Lc("getPageContent"),""},Vc.prototype.getTimeToClick=function(){return Lc("getTimeToClick"),-1},Vc.prototype.initialize=function(e){Lc("ClickstreamTracker initialize")},Vc.prototype.captureCorsDisallowed=function(e){Lc("captureCorsDisallowed")},Vc.prototype.captureEventTooLong=function(e){Lc("captureEventTooLong")},Vc.prototype.captureEventDrop=function(e){Lc("captureEventDrop")},Vc.prototype.captureSwap=function(e){Lc("captureSwap")},Vc.prototype.domReadyTasksWrapper=function(){Lc("domReadyTasksWrapper")},Vc.prototype.domReadyTasks=function(){Lc("domReadyTasks")},Vc.prototype.onDomReadyDo=function(e){Lc("onDomReadyDo")},Vc);function Vc(e){this.testHook={},this._sku=e}var Uc=(Fc.prototype.getCookie=Kn,Fc.prototype.setCookie=function(e,t,n){nn(null)&&en(null).set(e,t,86400*n,null,"/")},Fc.prototype.deleteCookie=function(e){nn(null)&&en(null).del(e)},Fc.prototype.getCookieKeyValue=function(e,t){return Lc("getCookieKeyValue"),undefined},Fc.prototype.getAllCookies=function(){return Lc("getAllCookies"),undefined},Fc);function Fc(){}var Hc=(Bc.prototype.init=function(){Lc("ErrorHandler init")},Bc);function Bc(){}var qc=(Wc.prototype.recordTimeSpan=function(e,t){return Lc("recordTimeSpan"),-1},Wc);function Wc(){}var zc=(jc.prototype.get=function(e){Lc("get")},jc.prototype.post=function(e){Lc("post")},jc.prototype.put=function(e){Lc("put")},jc.prototype["delete"]=function(e){Lc("delete")},jc.prototype.patch=function(e){Lc("patch")},jc.prototype.alwaysAddCvToRequestHeader=function(){return Lc("alwaysAddCvToRequestHeader"),!0},jc.prototype.doNotChangeSupportCors=function(){return Lc("doNotChangeSupportCors"),!0},jc.prototype.setTargetUriOverride=function(e){Lc("setTargetUriOverride")},jc);function jc(){}var Kc=(Gc.prototype.isInit=function(){return this._sku.getCvExtension().getCv().isInit()},Gc.prototype.canExtend=function(){return this._sku.getCvExtension().getCv().canExtend()},Gc.prototype.canIncrement=function(){return this._sku.getCvExtension().getCv().canIncrement()},Gc.prototype.isValid=function(e){return this._sku.getCvExtension().getCv().isValid(e)},Gc.prototype.getValue=function(){return this._sku.getCvExtension().getCv().getValue()},Gc.prototype.setValue=function(e){this._sku.getCvExtension().getCv().setValueLegacy(e)},Gc.prototype.init=function(e){return this._sku.getCvExtension().getCv().initLegacy(e)},Gc.prototype.extend=function(){return this._sku.getCvExtension().getCv().extend()},Gc.prototype.increment=function(){return this._sku.getCvExtension().getCv().increment()},Gc.prototype.incrementExternal=function(e){return this._sku.getCvExtension().getCv().incrementExternal(e)},Gc.prototype.useCv1=function(){this._sku.getCvExtension().getCv().useCv1()},Gc.prototype.useCv2=function(){this._sku.getCvExtension().getCv().useCv2()},Gc);function Gc(e){this._sku=e}var Xc=(Qc.prototype.getVisitorId=function(){return this._sku.getPropertyManager().getPropertiesContext().user.localId},Qc.prototype.getMuidUserId=function(e){var t=this._sku.getPropertyManager().getPropertiesContext().user.localId;return zn(t)?"t:"+t:""},Qc.prototype.setDeviceClass=function(e){this._sku.getPropertyManager().getPropertiesContext().device.deviceClass=e},Qc.prototype.getDeviceClass=function(){return this._sku.getPropertyManager().getPropertiesContext().device.deviceClass},Qc.prototype.setAppUserId=function(e){Lc("setAppUserId")},Qc.prototype.getAppUserId=function(){return Lc("getAppUserId"),""},Qc.prototype.readExpIdFromCookie=function(e){return Lc("readExpIdFromCookie"),""},Qc.prototype.getImpressionGuid=function(){return Lc("getImpressionGuid"),""},Qc.prototype.getGroups=function(){return Lc("getGroups"),""},Qc.prototype.setExpIdCookieName=function(e){return Lc("setExpIdCookieName"),""},Qc.prototype.readExpIdFromCoreData=function(e){return Lc("readExpIdFromCoreData"),""},Qc.prototype.getPageViewImpressionGuid=function(){return Lc("getPageViewImpressionGuid"),""},Qc);function Qc(e){this._sku=e}var Jc=(Yc.prototype.init=function(e){Lc("Ix init")},Yc.prototype.set=function(e){Lc("Ix set")},Yc);function Yc(){this.testHook={}}var Zc=($c.prototype.logError=function(e){this._sku.logger.warnToConsole(e)},$c.prototype.logWarning=function(e){this._sku.logger.warnToConsole(e)},$c.prototype.logInformation=function(e){this._sku.logger.warnToConsole(e)},$c);function $c(e){this._sku=e}var eu=(tu.prototype.sendError=function(e,t){Lc("sendError")},tu.prototype.sendApiComplete=function(e){Lc("sendApiComplete")},tu.prototype.sendJsllEvent=function(e){Lc("sendJsllEvent")},tu.prototype.SendOrScheduleEvent=function(e,t){Lc("SendOrScheduleEvent")},tu.prototype.overrideQueueBehavior=function(e){Lc("overrideQueueBehavior")},tu.prototype.drainQueuedEvents=function(){Lc("drainQueuedEvents")},tu.prototype.batchEventsByNumber=function(e){Lc("batchEventsByNumber")},tu.prototype.batchQueuedEvents=function(){Lc("batchQueuedEvents")},tu.prototype.addEventToQueue=function(e){Lc("addEventToQueue")},tu);function tu(){}function nu(){var t=this;this.isAvailable=!0,this.requestBody="",this._schemas=[],this.testHook={},this.OnSuccessfulVortexRequest=function(){},this.sku=new Pc,this.ct=new Oc(this.sku),this.cv=new Kc(this.sku),this.ids=new Xc(this.sku),this.ix=new Jc,this.logger=new Zc(this.sku),this.timespanHandler=new qc,this.service=new zc,this.utils=new Rc,this.cookie=new Uc,this.errorHandler=new Hc,this.vortexEvents=new eu,this.behavior=ma,this.behaviorKeys=[],oe(ma,function(e){t.behaviorKeys.push(e)}),this.actionType=ra}nu.prototype.init=function(e){e.useDefaultContentName==undefined&&(e.useDefaultContentName=!0),e.useShortNameForContentBlob==undefined&&(e.useShortNameForContentBlob=!1),(e=(this._awaConfig=e).advancedConfig||{}).instrumentationKey=this._awaConfig.instrumentationKey,e.jsllConfiguration=this._awaConfig,this.sku.initialize(e,[]),this.isInitialized=this.sku.isInitialized()},nu.prototype.writeEvent=function(e,t){var n=e;if(ue(n))for(var r=0;r<n.length;r++)this.sku.track(this.transformCustomEvent(n[r]));else this.sku.track(this.transformCustomEvent(n))},nu.prototype.getConfig=function(){return this._awaConfig},nu.prototype.extendCoreData=function(e){this.sku.getWebAnalyticsExtension().updateCoreDataConfig(e)},nu.prototype.capabilitiesCheck=function(){JSON&&JSON.stringify||(this.logger.logError("Unable to write event: the global JSON.stringify method does not exist"),this.isAvailable=!1)},nu.prototype.getSignedInStatus=function(){return ca(this.sku.getWebAnalyticsExtensionConfig())},nu.prototype._validateAndTranslateEvent=function(e){return{event:e}},nu.prototype.sanitizeUrl=function(e){var t=document.createElement("a");return t.href=e,document.body.appendChild(t),document.body.removeChild(t),t&&e?sa(this.sku.getWebAnalyticsExtensionConfig(),t):""},nu.prototype.sanitizeCurrentUrl=function(){return window.location?sa(this.sku.getWebAnalyticsExtensionConfig(),window.location):""},nu.prototype.getQueryStringParameters=function(){return Lc("getQueryStringParameters"),""},nu.prototype._registerSchemas=function(e){Lc("_registerSchemas")},nu.prototype.sendEventThroughIframe=function(e){Lc("sendEventThroughIframe")},nu.prototype.isEventValid=function(e){return Lc("isEventValid"),!0},nu.prototype.translateEventFromIntermediateStructure=function(e){Lc("translateEventFromIntermediateStructure")},nu.prototype.firstEventDone=function(){Lc("firstEventDone")},nu.prototype.firstEventDoneTasks=function(){Lc("firstEventDoneTasks")},nu.prototype.resetFirstEvent=function(){Lc("resetFirstEvent")},nu.prototype.transformCustomEvent=function(n){var r={name:n.name,baseType:n.data&&n.data.baseType?n.data.baseType:""};return r.baseData=r.baseData||{},n.data&&n.data.baseData&&oe(n.data.baseData,function(e,t){r.baseData[e]=t}),r.data=r.data||{},n.data&&oe(n.data,function(e,t){"baseData"!==e&&(r.data[e]=n.data[e])}),zn(n.serviceName)&&(r.ext=r.ext||{},r.ext.intweb=r.ext.intweb||{},r.ext.intweb.serviceName=n.serviceName),zn(n.cV)&&(r.ext=r.ext||{},r.ext.mscv=r.ext.mscv||{},r.ext.mscv.cV=n.cV),zn(n.appId)&&(r.ext=r.ext||{},r.ext.app=r.ext.app||{},r.ext.app.id=n.appId),zn(n.env)&&(r.ext=r.ext||{},r.ext.app=r.ext.app||{},r.ext.app.env=n.env),r},i=nu,U().awa=new i,e.JavascriptLoggingLibrary=i,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{});
//# sourceMappingURL=ms.jsll-3.1.9.min.js.map
